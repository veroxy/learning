<!DOCTYPE html>
<!-- saved from url=(0091)https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/gerer-les-formulaires -->
<html class="js supports no-touchevents cssfilters" lang="fr" prefix="og: http://ogp.me/ns#" style=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script type="text/javascript" src="https://m.addthis.com/live/red_lojson/300lo.json?si=595b6c1b66c6b5d4&amp;bkl=0&amp;bl=1&amp;pdt=2912&amp;sid=595b6c1b66c6b5d4&amp;pub=ra-4fbe47ef2aab77a6&amp;rev=v7.15.4-wp&amp;ln=fr&amp;pc=men&amp;cb=0&amp;ab=-&amp;dp=openclassrooms.com&amp;fp=courses%2Fprogrammez-en-oriente-objet-en-php%2Fgerer-les-formulaires&amp;fr=courses%2Fprogrammez-en-oriente-objet-en-php%2Fle-backend&amp;of=2&amp;pd=0&amp;irt=1&amp;vcl=2&amp;md=0&amp;ct=0&amp;tct=0&amp;abt=0&amp;cdn=0&amp;pi=1&amp;rb=2&amp;gen=100&amp;chr=UTF-8&amp;colc=1499163675702&amp;jsl=4097&amp;uvs=595b699ee24000a3014&amp;skipb=1&amp;callback=addthis.cbs.oln9_61680034047093170"></script><script type="text/javascript" src="https://m.addthisedge.com/live/boost/ra-4fbe47ef2aab77a6/_ate.track.config_resp"></script>
<title>Gérer les formulaires - Programmez en orienté objet en PHP</title>
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=0">
<script type="text/javascript" src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/90dc06697a"></script><script src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/nr-1039.min.js"></script><script type="text/javascript" async="" src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/insight.min.js"></script><script src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/rules-p-d1D4hSPec1QW4.js"></script><script type="text/javascript" async="" src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/linkid.js"></script><script type="text/javascript" async="" src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/quant.js"></script><script type="text/javascript" async="" src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/gtm.js"></script><script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script><script src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/identity.js" async=""></script><script src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/1570554156513134" async=""></script><script type="text/javascript" async="" src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/fbevents.js"></script><script type="text/javascript" async="" src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/track.js" id="cio-tracker" data-site-id="46e8e9c18365c4bba6c1"></script><script type="text/javascript" async="" src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/blueshift.js"></script><script type="text/javascript" async="" src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/bat.js"></script><script type="text/javascript" async="" src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/amplitude-3.4.0-min.gz.js"></script><script type="text/javascript" async="" src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/conversion_async.js"></script><script type="text/javascript" id="analytics-js" async="" src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/analytics.min.js"></script><script type="text/javascript">window.NREUM||(NREUM={}),__nr_require=function(e,n,t){function r(t){if(!n[t]){var o=n[t]={exports:{}};e[t][0].call(o.exports,function(n){var o=e[t][1][n];return r(o||n)},o,o.exports)}return n[t].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<t.length;o++)r(t[o]);return r}({1:[function(e,n,t){function r(){}function o(e,n,t){return function(){return i(e,[c.now()].concat(u(arguments)),n?null:this,t),n?void 0:this}}var i=e("handle"),a=e(2),u=e(3),f=e("ee").get("tracer"),c=e("loader"),s=NREUM;"undefined"==typeof window.newrelic&&(newrelic=s);var p=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],d="api-",l=d+"ixn-";a(p,function(e,n){s[n]=o(d+n,!0,"api")}),s.addPageAction=o(d+"addPageAction",!0),s.setCurrentRouteName=o(d+"routeName",!0),n.exports=newrelic,s.interaction=function(){return(new r).get()};var m=r.prototype={createTracer:function(e,n){var t={},r=this,o="function"==typeof n;return i(l+"tracer",[c.now(),e,t],r),function(){if(f.emit((o?"":"no-")+"fn-start",[c.now(),r,o],t),o)try{return n.apply(this,arguments)}finally{f.emit("fn-end",[c.now()],t)}}}};a("setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(e,n){m[n]=o(l+n)}),newrelic.noticeError=function(e){"string"==typeof e&&(e=new Error(e)),i("err",[e,c.now()])}},{}],2:[function(e,n,t){function r(e,n){var t=[],r="",i=0;for(r in e)o.call(e,r)&&(t[i]=n(r,e[r]),i+=1);return t}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],3:[function(e,n,t){function r(e,n,t){n||(n=0),"undefined"==typeof t&&(t=e?e.length:0);for(var r=-1,o=t-n||0,i=Array(o<0?0:o);++r<o;)i[r]=e[n+r];return i}n.exports=r},{}],4:[function(e,n,t){n.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],ee:[function(e,n,t){function r(){}function o(e){function n(e){return e&&e instanceof r?e:e?f(e,u,i):i()}function t(t,r,o,i){if(!d.aborted||i){e&&e(t,r,o);for(var a=n(o),u=m(t),f=u.length,c=0;c<f;c++)u[c].apply(a,r);var p=s[y[t]];return p&&p.push([b,t,r,a]),a}}function l(e,n){v[e]=m(e).concat(n)}function m(e){return v[e]||[]}function w(e){return p[e]=p[e]||o(t)}function g(e,n){c(e,function(e,t){n=n||"feature",y[t]=n,n in s||(s[n]=[])})}var v={},y={},b={on:l,emit:t,get:w,listeners:m,context:n,buffer:g,abort:a,aborted:!1};return b}function i(){return new r}function a(){(s.api||s.feature)&&(d.aborted=!0,s=d.backlog={})}var u="nr@context",f=e("gos"),c=e(2),s={},p={},d=n.exports=o();d.backlog=s},{}],gos:[function(e,n,t){function r(e,n,t){if(o.call(e,n))return e[n];var r=t();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,n,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return e[n]=r,r}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],handle:[function(e,n,t){function r(e,n,t,r){o.buffer([e],r),o.emit(e,n,t)}var o=e("ee").get("handle");n.exports=r,r.ee=o},{}],id:[function(e,n,t){function r(e){var n=typeof e;return!e||"object"!==n&&"function"!==n?-1:e===window?0:a(e,i,function(){return o++})}var o=1,i="nr@id",a=e("gos");n.exports=r},{}],loader:[function(e,n,t){function r(){if(!x++){var e=h.info=NREUM.info,n=d.getElementsByTagName("script")[0];if(setTimeout(s.abort,3e4),!(e&&e.licenseKey&&e.applicationID&&n))return s.abort();c(y,function(n,t){e[n]||(e[n]=t)}),f("mark",["onload",a()+h.offset],null,"api");var t=d.createElement("script");t.src="https://"+e.agent,n.parentNode.insertBefore(t,n)}}function o(){"complete"===d.readyState&&i()}function i(){f("mark",["domContent",a()+h.offset],null,"api")}function a(){return E.exists&&performance.now?Math.round(performance.now()):(u=Math.max((new Date).getTime(),u))-h.offset}var u=(new Date).getTime(),f=e("handle"),c=e(2),s=e("ee"),p=window,d=p.document,l="addEventListener",m="attachEvent",w=p.XMLHttpRequest,g=w&&w.prototype;NREUM.o={ST:setTimeout,SI:p.setImmediate,CT:clearTimeout,XHR:w,REQ:p.Request,EV:p.Event,PR:p.Promise,MO:p.MutationObserver};var v=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1039.min.js"},b=w&&g&&g[l]&&!/CriOS/.test(navigator.userAgent),h=n.exports={offset:u,now:a,origin:v,features:{},xhrWrappable:b};e(1),d[l]?(d[l]("DOMContentLoaded",i,!1),p[l]("load",r,!1)):(d[m]("onreadystatechange",o),p[m]("onload",r)),f("mark",["firstbyte",u],null,"api");var x=0,E=e(4)},{}]},{},["loader"]);</script>
<meta name="application-name" content="OpenClassrooms">
<meta name="msapplication-TileColor" content="#e95325">
<meta name="msapplication-TileImage" content="/fav-icon.png?v=1">
<meta name="theme-color" content="#E95325">
<link rel="icon" sizes="144x144" href="https://openclassrooms.com/fav-icon.png?v=1">
<link rel="apple-touch-icon" href="https://openclassrooms.com/apple-touch-icon.png">
<link rel="apple-touch-icon" href="https://openclassrooms.com/apple-touch-icon-iphone.png">
<link rel="apple-touch-icon" sizes="72x72" href="https://openclassrooms.com/apple-touch-icon-ipad.png">
<link rel="apple-touch-icon" sizes="114x114" href="https://openclassrooms.com/apple-touch-icon-iphone-retina-display.png">
<link rel="apple-touch-icon" sizes="144x144" href="https://openclassrooms.com/apple-touch-icon-ipad-retina-display.png">
<link rel="apple-touch-icon-precomposed" href="https://openclassrooms.com/apple-touch-icon-precomposed.png">
<link rel="shortcut icon" href="https://openclassrooms.com/favicon.ico?a5494df">
<link href="./Gérer les formulaires - Programmez en orienté objet en PHP_files/master-c114407e.css" type="text/css" rel="stylesheet" media="all">
<link href="./Gérer les formulaires - Programmez en orienté objet en PHP_files/main-49192b3f.css" type="text/css" rel="stylesheet" media="all">
<script>
    /*! modernizr 3.3.1 (Custom Build) | MIT *
    * https://modernizr.com/download/?-cssfilters-touchevents-setclasses !*/
    !function(e,n,t){function o(e,n){return typeof e===n}function r(){var e,n,t,r,s,i,a;for(var l in C)if(C.hasOwnProperty(l)){if(e=[],n=C[l],n.name&&(e.push(n.name.toLowerCase()),n.options&&n.options.aliases&&n.options.aliases.length))for(t=0;t<n.options.aliases.length;t++)e.push(n.options.aliases[t].toLowerCase());for(r=o(n.fn,"function")?n.fn():n.fn,s=0;s<e.length;s++)i=e[s],a=i.split("."),1===a.length?Modernizr[a[0]]=r:(!Modernizr[a[0]]||Modernizr[a[0]]instanceof Boolean||(Modernizr[a[0]]=new Boolean(Modernizr[a[0]])),Modernizr[a[0]][a[1]]=r),g.push((r?"":"no-")+a.join("-"))}}function s(e){var n=w.className,t=Modernizr._config.classPrefix||"";if(x&&(n=n.baseVal),Modernizr._config.enableJSClass){var o=new RegExp("(^|\\s)"+t+"no-js(\\s|$)");n=n.replace(o,"$1"+t+"js$2")}Modernizr._config.enableClasses&&(n+=" "+t+e.join(" "+t),x?w.className.baseVal=n:w.className=n)}function i(){return"function"!=typeof n.createElement?n.createElement(arguments[0]):x?n.createElementNS.call(n,"http://www.w3.org/2000/svg",arguments[0]):n.createElement.apply(n,arguments)}function a(){var e=n.body;return e||(e=i(x?"svg":"body"),e.fake=!0),e}function l(e,t,o,r){var s,l,u,f,p="modernizr",c=i("div"),d=a();if(parseInt(o,10))for(;o--;)u=i("div"),u.id=r?r[o]:p+(o+1),c.appendChild(u);return s=i("style"),s.type="text/css",s.id="s"+p,(d.fake?d:c).appendChild(s),d.appendChild(c),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(n.createTextNode(e)),c.id=p,d.fake&&(d.style.background="",d.style.overflow="hidden",f=w.style.overflow,w.style.overflow="hidden",w.appendChild(d)),l=t(c,e),d.fake?(d.parentNode.removeChild(d),w.style.overflow=f,w.offsetHeight):c.parentNode.removeChild(c),!!l}function u(e,n){return!!~(""+e).indexOf(n)}function f(e){return e.replace(/([a-z])-([a-z])/g,function(e,n,t){return n+t.toUpperCase()}).replace(/^-/,"")}function p(e,n){return function(){return e.apply(n,arguments)}}function c(e,n,t){var r;for(var s in e)if(e[s]in n)return t===!1?e[s]:(r=n[e[s]],o(r,"function")?p(r,t||n):r);return!1}function d(e){return e.replace(/([A-Z])/g,function(e,n){return"-"+n.toLowerCase()}).replace(/^ms-/,"-ms-")}function m(n,o){var r=n.length;if("CSS"in e&&"supports"in e.CSS){for(;r--;)if(e.CSS.supports(d(n[r]),o))return!0;return!1}if("CSSSupportsRule"in e){for(var s=[];r--;)s.push("("+d(n[r])+":"+o+")");return s=s.join(" or "),l("@supports ("+s+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return t}function h(e,n,r,s){function a(){p&&(delete k.style,delete k.modElem)}if(s=o(s,"undefined")?!1:s,!o(r,"undefined")){var l=m(e,r);if(!o(l,"undefined"))return l}for(var p,c,d,h,v,y=["modernizr","tspan","samp"];!k.style&&y.length;)p=!0,k.modElem=i(y.shift()),k.style=k.modElem.style;for(d=e.length,c=0;d>c;c++)if(h=e[c],v=k.style[h],u(h,"-")&&(h=f(h)),k.style[h]!==t){if(s||o(r,"undefined"))return a(),"pfx"==n?h:!0;try{k.style[h]=r}catch(g){}if(k.style[h]!=v)return a(),"pfx"==n?h:!0}return a(),!1}function v(e,n,t,r,s){var i=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+j.join(i+" ")+i).split(" ");return o(n,"string")||o(n,"undefined")?h(a,n,r,s):(a=(e+" "+E.join(i+" ")+i).split(" "),c(a,n,t))}function y(e,n,o){return v(e,t,t,n,o)}var g=[],C=[],S={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,n){var t=this;setTimeout(function(){n(t[e])},0)},addTest:function(e,n,t){C.push({name:e,fn:n,options:t})},addAsyncTest:function(e){C.push({name:null,fn:e})}},Modernizr=function(){};Modernizr.prototype=S,Modernizr=new Modernizr;var w=n.documentElement,x="svg"===w.nodeName.toLowerCase(),_=S._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];S._prefixes=_;var b="CSS"in e&&"supports"in e.CSS,T="supportsCSS"in e;Modernizr.addTest("supports",b||T);var z=S.testStyles=l;Modernizr.addTest("touchevents",function(){var t;if("ontouchstart"in e||e.DocumentTouch&&n instanceof DocumentTouch)t=!0;else{var o=["@media (",_.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");z(o,function(e){t=9===e.offsetTop})}return t});var P="Moz O ms Webkit",j=S._config.usePrefixes?P.split(" "):[];S._cssomPrefixes=j;var E=S._config.usePrefixes?P.toLowerCase().split(" "):[];S._domPrefixes=E;var N={elem:i("modernizr")};Modernizr._q.push(function(){delete N.elem});var k={style:N.elem.style};Modernizr._q.unshift(function(){delete k.style}),S.testAllProps=v,S.testAllProps=y,Modernizr.addTest("cssfilters",function(){if(Modernizr.supports)return y("filter","blur(2px)");var e=i("a");return e.style.cssText=_.join("filter:blur(2px); "),!!e.style.length&&(n.documentMode===t||n.documentMode>9)}),r(),s(g),delete S.addTest,delete S.addAsyncTest;for(var A=0;A<Modernizr._q.length;A++)Modernizr._q[A]();e.Modernizr=Modernizr}(window,document);
    </script>
<script type="text/javascript">
    var App = {
        startTime: (new Date()).getTime(),
        pageGenerationDate: 1499163672000
    };

    App.user = {
                    id: 6540350,
            age: '',
            createdAt: '2014\x2D02\x2D10T21\x3A35\x3A06\x2B01\x3A00',
            gender: 'F',
            premiumType: '',
            locale: 'fr',
            language: 'fr',
            displayableName: 'Vero\x20Lafaverges',
            email: 'v.lafaverges\x40gmail.com',
            country: '',
            phoneNumber: '',
            avatar: '\x2Fbundles\x2Fcommon\x2Fimages\x2Favatar_defaut.png',
            isPremium: false
            };

    App.preferences = {
        debug: false,
        assetVersion: 'a5494df',
        contactMail: 'hello\x40openclassrooms.com',
        adyenPublicKey: '10001\x7C889EBFD4D434B82683E21DCA26E77C3E20E0EE09A5ECE3830B0ED51F2FA721A2F7E9EC871C6AB9A1E12C4492F4717673047757E02C5256D8E265CD51E413E5EFCCFEAC41B39C662A424ADC13EE187C38C372A7FCCEC1EA5DF841989437D78B252A8EB51008E60BB55B1E55A7A80DE1A9D60D998C128A576BFAE1DDB97D514AF0A073AEDDE84CEE40D1F8F6ECE85D0FFA50C95C06DB274021C1371376C6EB16561FD65C5E2704B570A7504D617D0F3820F176A0609F6162BDF5890533289FDC3DA7DB03B50BB3BD60A613E1FF72060F22987627E8F1A29F0128A94EC4C8FF7CF6B7AB9558D8433BF86D7A388AB927641CD6C02689139CEE3AAC9ACBFFE83806CB',
        cdnImage: true,
        layer: {
            appId: 'layer\x3A\x2F\x2F\x2Fapps\x2Fstaging\x2F7757c53a\x2Db2ba\x2D11e5\x2Db2a6\x2D2584730b1501',
            identityProviderUrl: '\x2Fajax\x2Fconversations\x2Fget\x2Didentity\x2Dtoken'
        },
        algolia: {
            appId: 'JGRXRFVQM0',
            apiKey: 'dfbdea500cb0b5f46e449ad334916c44',
            indexName: 'prod_v2_COURSES_fr'
        },
        routes: {
            COURSE_EVENT: '/components/courses/:courseId',
            COURSE_PART_EVENT: '/components/courses/:courseId/parts/:partId',

            ACCEPT_COOKIE: '\x2Fcomponents\x2Fuser\x2Daccept\x2Dconsent\x2Dcookie'
        },

                    };

    App.preferences.navigationPreference = {
                                    consentCookieExpiredAt: 1519030697
                        };

    App.preferences.modules = {
        'smiley': {
            basePath: '/bundles/common/images/smiley/'
        }
    };

    App.notifications = {};
    App.scripts = [];
</script>
<script>    
    App.preferences.modules['course/view/internalFolding'] = {
        isBigCourse: true
    };

    App.data = App.data || {};
App.data.currentCourse = {"partId":1669084,"partTitle":"G\u00e9rer les formulaires","partSlug":"gerer-les-formulaires","courseId":1665806,"courseTitle":"Programmez en orient\u00e9 objet en PHP","courseSlug":"programmez-en-oriente-objet-en-php","courseLanguage":"fr","isIntroduction":false,"isCertifying":true};
App.preferences.modules['view/currentCoursePage'] = App.data.currentCourse;

</script>
<meta property="og:locale" content="fr">
<meta property="og:type" content="website">
<meta property="og:title" content="Gérer les formulaires @OpenClassrooms">
<meta property="og:url" content="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/gerer-les-formulaires">
<meta property="og:site_name" content="OpenClassrooms">
<meta property="og:image" content="https://static.oc-static.com/prod/courses/illustrations/illu_programmez-en-oriente-objet-en-php.png">
<meta property="og:description" content="Vous connaissez les bases de PHP, mais savez-vous organiser votre code comme un professionnel ? La programmation orientée objet est une façon de programmer incontournable. Ce cours va vous aider à bien structurer votre code.">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@OpenClassrooms">
<meta name="twitter:title" content="Gérer les formulaires @OpenClassrooms">
<meta name="twitter:description" content="">
<script async="" src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/satismeter.js"></script><style type="text/css">.nps-Survey{color:#333;font-family:sans-serif;font-weight:normal;font-size:14px;line-height:1.42857143;width:initial;margin:initial;padding:initial;background-color:initial;border-radius:initial}.nps-Survey *{width:initial;margin:initial;padding:initial;background-color:initial;border-radius:initial}.nps-Survey .nps-Survey-buttons{float:right;margin-top:14px}.nps-Survey .nps-Survey-bounding{position:relative;overflow:hidden}.nps-Survey .nps-Survey-content{position:relative;top:0}.nps-fade{opacity:1;-webkit-transition:opacity 500ms;transition:opacity 500ms}.nps-fade-enter,.nps-fade-leave{opacity:0}.nps-slide-enter,.nps-slide-leave{bottom:-600px !important}.nps-next{-webkit-transition:height 500ms;transition:height 500ms}.nps-next>div{-webkit-transition:top 500ms;transition:top 500ms}.nps-next>div>div{-webkit-transition:opacity 500ms;transition:opacity 500ms}.nps-expand{max-height:800px;overflow:hidden;-webkit-transition:max-height 500ms, opacity 500ms;transition:max-height 500ms, opacity 500ms}.nps-expand-enter,.nps-expand-leave{max-height:0px;opacity:0}.nps-Survey .nps-Bar{position:fixed;bottom:0;left:0;right:0;text-align:center;-webkit-transition:bottom 500ms;transition:bottom 500ms;z-index:2147483647;padding:0 20px;max-height:100vh;overflow:auto}.nps-Survey.nps-embed .nps-Bar{position:absolute;max-height:100%}.nps-Survey .nps-Bar .nps-PoweredBy{position:absolute;bottom:10px;right:20px}.nps-Survey.nps-embed .nps-Bar .nps-PoweredBy{display:none}@media (max-width: 900px){.nps-Survey .nps-Bar .nps-PoweredBy{display:none}}.nps-Survey .nps-Bar .nps-Scale{margin-left:auto;margin-right:auto}.nps-Survey .nps-Bar .nps-Survey-bounding{max-width:600px;margin:20px auto}.nps-Survey .nps-Bar .nps-Title{font-size:14px}.nps-Survey .nps-Dialog{background-color:white;border-width:2px;border-style:solid;margin:auto;padding:20px;position:fixed;width:417px;z-index:2147483647;-webkit-transition:all 500ms;transition:all 500ms;box-sizing:border-box}.nps-Survey.nps-embed .nps-Dialog{position:absolute}.nps-Survey .nps-Dialog--top{top:20px}.nps-Survey .nps-Dialog--middle{top:50%;-webkit-transform:translate(0, -50%);transform:translate(0, -50%)}.nps-Survey .nps-Dialog--bottom{bottom:20px}.nps-Survey .nps-Dialog--left{-webkit-transition:left 500ms;transition:left 500ms;left:20px}.nps-Survey .nps-Dialog--left.nps-show-enter,.nps-Survey .nps-Dialog--left.nps-show-leave{left:-500px}.nps-Survey .nps-Dialog--center{left:0;right:0}.nps-Survey .nps-Dialog--center.nps-Dialog--top.nps-show-enter,.nps-Survey .nps-Dialog--center.nps-Dialog--top.nps-show-leave{top:-500px}.nps-Survey .nps-Dialog--center.nps-Dialog--middle{-webkit-transform:translate(0, -50%) scale(1);transform:translate(0, -50%) scale(1)}.nps-Survey .nps-Dialog--center.nps-Dialog--middle.nps-show-enter,.nps-Survey .nps-Dialog--center.nps-Dialog--middle.nps-show-leave{-webkit-transform:translate(0, -50%) scale(0);transform:translate(0, -50%) scale(0)}.nps-Survey .nps-Dialog--center.nps-Dialog--bottom{bottom:20px}.nps-Survey .nps-Dialog--center.nps-Dialog--bottom.nps-show-enter,.nps-Survey .nps-Dialog--center.nps-Dialog--bottom.nps-show-leave{bottom:-500px}.nps-Survey .nps-Dialog--right{right:20px}.nps-Survey .nps-Dialog--right.nps-show-enter,.nps-Survey .nps-Dialog--right.nps-show-leave{right:-500px}.nps-Survey .nps-Dialog .nps-Title{margin-right:20px}.nps-Survey .nps-Dialog-close{float:right;font-weight:bold;padding:0;cursor:pointer;background:transparent;border:0;font-size:16px;width:30px;height:30px;color:white;position:absolute;right:0;top:0}.nps-Survey .nps-Dialog-close:focus{outline:0}.nps-Survey .nps-Dialog-FeedbackPoweredBy{position:absolute;bottom:0;line-height:30px;left:0}.nps-Survey .nps-Feedback{text-align:left}.nps-Survey .nps-Feedback-reason{margin-top:10px}.nps-Survey .nps-Feedback-reason label{display:block;font-weight:normal}.nps-Survey .nps-Feedback-reason input{margin-right:8px;margin-left:4px;position:relative;top:-2px}.nps-Survey .nps-Feedback-submit{margin-top:10px;float:right}.nps-Survey .nps-Panel{border-width:2px;border-style:solid;background-color:white}.nps-Survey .nps-Panel{font-size:16px;color:#333;max-width:600px;min-width:375px;margin:20px auto;padding:20px}@media (max-width: 480px){.nps-Survey .nps-Panel{border-width:0;min-width:initial;font-size:14px;box-shadow:none}}.nps-Survey .nps-Panel .nps-Survey--powered-by{line-height:38px}.nps-Survey .nps-Panel .nps-Title{font-size:18px}.nps-Survey .nps-Panel .nps-Rating{margin-bottom:20px}.nps-Survey .nps-PoweredBy{font-size:12px;margin-top:20px}.nps-Survey .nps-PoweredBy>a{text-decoration:none;font-weight:bold}.nps-Survey .nps-Title{font-size:16px}.nps-Survey .nps-cf:before,.nps-Survey .nps-cf:after{content:" ";display:table}.nps-Survey .nps-cf:after{clear:both}.nps-Survey .nps-left{text-align:left}.nps-Survey .nps-center{text-align:center}.nps-Survey .nps-margin-t20{margin-top:20px}.nps-Button{display:inline-block;zoom:1;line-height:normal;white-space:nowrap;vertical-align:baseline;text-align:center;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:inherit;font-size:100%;padding:0.5em 1em;text-decoration:none;border:0}.nps-Button::-moz-focus-inner{padding:0;border:0}.nps-Survey .nps-Button:focus{outline:0}.nps-Survey .nps-Button[disabled]{border:none;background-image:none;opacity:0.40;cursor:default;box-shadow:none}.nps-Survey .nps-Button--simple{border:0;cursor:pointer;padding:10px}.nps-Survey .nps-Button--icon{width:30px;height:30px;padding:0}.nps-Survey .nps-Button--simple:focus,.nps-Button--simple:hover{outline:none}.nps-Survey .nps-Link{padding:0.5em 1em;text-decoration:none}.nps-Survey .nps-Textarea{margin-top:14px;height:80px;border-width:2px;border-style:solid;font-size:14px;padding:7px 10px;width:100%;resize:vertical;box-sizing:border-box;-webkit-transition:border-color 300ms, background-color 300ms;transition:border-color 300ms, background-color 300ms}.nps-Survey .nps-Textarea:focus{outline:0}.nps-Survey .nps-Scale{margin-top:14px;display:inline-block}.nps-Survey .nps-Scale-values{margin-bottom:4px;text-align:center}.nps-Survey .nps-Scale-value{display:inline-block;padding-right:2px;vertical-align:middle;line-height:1;font-size:1.5em}.nps-Survey .nps-Scale-value:last-of-type{padding-right:0}.nps-Survey .nps-Scale-value:hover{cursor:pointer}.nps-Survey .nps-Scale-button{border-radius:50%;width:32px;height:32px;text-align:center;line-height:32px;font-size:12px}@media (max-width: 480px){.nps-Survey .nps-Scale-button{width:22px;height:22px;line-height:22px}}.nps-Survey.nps-small .nps-Scale-button{width:22px;height:22px;line-height:22px}.nps-Survey .nps-Scale-hint{font-size:12px;font-style:italic}.nps-Survey .nps-Scale-hint--unlikely{float:left;padding-right:10px}.nps-Survey .nps-Scale-hint--likely{float:right;padding-left:10px}.nps-Survey[dir="rtl"] .nps-Scale-hint--unlikely{float:right}.nps-Survey[dir="rtl"] .nps-Scale-hint--likely{float:left}</style><style type="text/css">.fancybox-margin{margin-right:20px;}</style><style type="text/css">.at-icon{fill:#fff;border:0}.at-icon-wrapper{display:inline-block;overflow:hidden}a .at-icon-wrapper{cursor:pointer}.at-rounded,.at-rounded-element .at-icon-wrapper{border-radius:12%}.at-circular,.at-circular-element .at-icon-wrapper{border-radius:50%}.addthis_32x32_style .at-icon{width:2pc;height:2pc}.addthis_24x24_style .at-icon{width:24px;height:24px}.addthis_20x20_style .at-icon{width:20px;height:20px}.addthis_16x16_style .at-icon{width:1pc;height:1pc}#at16lb{display:none;position:absolute;top:0;left:0;width:100%;height:100%;z-index:1001;background-color:#000;opacity:.001}#at_complete,#at_error,#at_share,#at_success{position:static!important}.at15dn{display:none}#at15s,#at16p,#at16p form input,#at16p label,#at16p textarea,#at_share .at_item{font-family:arial,helvetica,tahoma,verdana,sans-serif!important;font-size:9pt!important;outline-style:none;outline-width:0;line-height:1em}* html #at15s.mmborder{position:absolute!important}#at15s.mmborder{position:fixed!important;width:250px!important}#at15s{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABtJREFUeNpiZGBgaGAgAjAxEAlGFVJHIUCAAQDcngCUgqGMqwAAAABJRU5ErkJggg==);float:none;line-height:1em;margin:0;overflow:visible;padding:5px;text-align:left;position:absolute}#at15s a,#at15s span{outline:0;direction:ltr;text-transform:none}#at15s .at-label{margin-left:5px}#at15s .at-icon-wrapper{width:1pc;height:1pc;vertical-align:middle}#at15s .at-icon{width:1pc;height:1pc}.at4-icon{display:inline-block;background-repeat:no-repeat;background-position:top left;margin:0;overflow:hidden;cursor:pointer}.addthis_16x16_style .at4-icon,.addthis_default_style .at4-icon,.at4-icon,.at-16x16{width:1pc;height:1pc;line-height:1pc;background-size:1pc!important}.addthis_32x32_style .at4-icon,.at-32x32{width:2pc;height:2pc;line-height:2pc;background-size:2pc!important}.addthis_24x24_style .at4-icon,.at-24x24{width:24px;height:24px;line-height:24px;background-size:24px!important}.addthis_20x20_style .at4-icon,.at-20x20{width:20px;height:20px;line-height:20px;background-size:20px!important}.at4-icon.circular,.circular .at4-icon,.circular.aticon{border-radius:50%}.at4-icon.rounded,.rounded .at4-icon{border-radius:4px}.at4-icon-left{float:left}#at15s .at4-icon{text-indent:20px;padding:0;overflow:visible;white-space:nowrap;background-size:1pc;width:1pc;height:1pc;background-position:top left;display:inline-block;line-height:1pc}.addthis_vertical_style .at4-icon,.at4-follow-container .at4-icon{margin-right:5px}html>body #at15s{width:250px!important}#at15s.atm{background:none!important;padding:0!important;width:10pc!important}#at15s_inner{background:#fff;border:1px solid #fff;margin:0}#at15s_head{position:relative;background:#f2f2f2;padding:4px;cursor:default;border-bottom:1px solid #e5e5e5}.at15s_head_success{background:#cafd99!important;border-bottom:1px solid #a9d582!important}.at15s_head_success a,.at15s_head_success span{color:#000!important;text-decoration:none}#at15s_brand,#at15sptx,#at16_brand{position:absolute}#at15s_brand{top:4px;right:4px}.at15s_brandx{right:20px!important}a#at15sptx{top:4px;right:4px;text-decoration:none;color:#4c4c4c;font-weight:700}#at15sptx:hover{text-decoration:underline}#at16_brand{top:5px;right:30px;cursor:default}#at_hover{padding:4px}#at_hover .at_item,#at_share .at_item{background:#fff!important;float:left!important;color:#4c4c4c!important}#at_share .at_item .at-icon-wrapper{margin-right:5px}#at_hover .at_bold{font-weight:700;color:#000!important}#at_hover .at_item{width:7pc!important;padding:2px 3px!important;margin:1px;text-decoration:none!important}#at_hover .at_item.athov,#at_hover .at_item:focus,#at_hover .at_item:hover{margin:0!important}#at_hover .at_item.athov,#at_hover .at_item:focus,#at_hover .at_item:hover,#at_share .at_item.athov,#at_share .at_item:hover{background:#f2f2f2!important;border:1px solid #e5e5e5;color:#000!important;text-decoration:none}.ipad #at_hover .at_item:focus{background:#fff!important;border:1px solid #fff}.at15t{display:block!important;height:1pc!important;line-height:1pc!important;padding-left:20px!important;background-position:0 0;text-align:left}.addthis_button,.at15t{cursor:pointer}.addthis_toolbox a.at300b,.addthis_toolbox a.at300m{width:auto}.addthis_toolbox a{margin-bottom:5px;line-height:initial}.addthis_toolbox.addthis_vertical_style{width:200px}.addthis_button_facebook_like .fb_iframe_widget{line-height:100%}.addthis_button_facebook_like iframe.fb_iframe_widget_lift{max-width:none}.addthis_toolbox a.addthis_button_counter,.addthis_toolbox a.addthis_button_facebook_like,.addthis_toolbox a.addthis_button_facebook_send,.addthis_toolbox a.addthis_button_facebook_share,.addthis_toolbox a.addthis_button_foursquare,.addthis_toolbox a.addthis_button_google_plusone,.addthis_toolbox a.addthis_button_linkedin_counter,.addthis_toolbox a.addthis_button_pinterest_pinit,.addthis_toolbox a.addthis_button_stumbleupon_badge,.addthis_toolbox a.addthis_button_tweet{display:inline-block}.at-share-tbx-element .google_plusone_iframe_widget>span>div{vertical-align:top!important}.addthis_toolbox span.addthis_follow_label{display:none}.addthis_toolbox.addthis_vertical_style span.addthis_follow_label{display:block;white-space:nowrap}.addthis_toolbox.addthis_vertical_style a{display:block}.addthis_toolbox.addthis_vertical_style.addthis_32x32_style a{line-height:2pc;height:2pc}.addthis_toolbox.addthis_vertical_style .at300bs{margin-right:4px;float:left}.addthis_toolbox.addthis_20x20_style span{line-height:20px}.addthis_toolbox.addthis_32x32_style span{line-height:2pc}.addthis_toolbox.addthis_pill_combo_style .addthis_button_compact .at15t_compact,.addthis_toolbox.addthis_pill_combo_style a{float:left}.addthis_toolbox.addthis_pill_combo_style a.addthis_button_tweet{margin-top:-2px}.addthis_toolbox.addthis_pill_combo_style .addthis_button_compact .at15t_compact{margin-right:4px}.addthis_default_style .addthis_separator{margin:0 5px;display:inline}div.atclear{clear:both}.addthis_default_style .addthis_separator,.addthis_default_style .at4-icon,.addthis_default_style .at300b,.addthis_default_style .at300bo,.addthis_default_style .at300bs,.addthis_default_style .at300m{float:left}.at300b img,.at300bo img{border:0}a.at300b .at4-icon,a.at300m .at4-icon{display:block}.addthis_default_style .at300b,.addthis_default_style .at300bo,.addthis_default_style .at300m{padding:0 2px}.at300b,.at300bo,.at300bs,.at300m{cursor:pointer}.addthis_button_facebook_like.at300b:hover,.addthis_button_facebook_like.at300bs:hover,.addthis_button_facebook_send.at300b:hover,.addthis_button_facebook_send.at300bs:hover{opacity:1}.addthis_20x20_style .at15t,.addthis_20x20_style .at300bs{overflow:hidden;display:block;height:20px!important;width:20px!important;line-height:20px!important}.addthis_32x32_style .at15t,.addthis_32x32_style .at300bs{overflow:hidden;display:block;height:2pc!important;width:2pc!important;line-height:2pc!important}.at300bs{overflow:hidden;display:block;background-position:0 0;height:1pc;width:1pc;line-height:1pc!important}.addthis_default_style .at15t_compact,.addthis_default_style .at15t_expanded{margin-right:4px}#at_share .at_item{width:123px!important;padding:4px;margin-right:2px;border:1px solid #fff}#at16p{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABtJREFUeNpiZGBgaGAgAjAxEAlGFVJHIUCAAQDcngCUgqGMqwAAAABJRU5ErkJggg==);z-index:10000001;position:absolute;top:50%;left:50%;width:300px;padding:10px;margin:0 auto;margin-top:-185px;margin-left:-155px;font-family:arial,helvetica,tahoma,verdana,sans-serif;font-size:9pt;color:#5e5e5e}#at_share{margin:0;padding:0}#at16pt{position:relative;background:#f2f2f2;height:13px;padding:5px 10px}#at16pt a,#at16pt h4{font-weight:700}#at16pt h4{display:inline;margin:0;padding:0;font-size:9pt;color:#4c4c4c;cursor:default}#at16pt a{position:absolute;top:5px;right:10px;color:#4c4c4c;text-decoration:none;padding:2px}#at15sptx:focus,#at16pt a:focus{outline:thin dotted}#at15s #at16pf a{top:1px}#_atssh{width:1px!important;height:1px!important;border:0!important}.atm{width:10pc!important;padding:0;margin:0;line-height:9pt;letter-spacing:normal;font-family:arial,helvetica,tahoma,verdana,sans-serif;font-size:9pt;color:#444;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABtJREFUeNpiZGBgaGAgAjAxEAlGFVJHIUCAAQDcngCUgqGMqwAAAABJRU5ErkJggg==);padding:4px}.atm-f{text-align:right;border-top:1px solid #ddd;padding:5px 8px}.atm-i{background:#fff;border:1px solid #d5d6d6;padding:0;margin:0;box-shadow:1px 1px 5px rgba(0,0,0,.15)}.atm-s{margin:0!important;padding:0!important}.atm-s a:focus{border:transparent;outline:0;-webkit-transition:none;transition:none}#at_hover.atm-s a,.atm-s a{display:block;text-decoration:none;padding:4px 10px;color:#235dab!important;font-weight:400;font-style:normal;-webkit-transition:none;transition:none}#at_hover.atm-s .at_bold{color:#235dab!important}#at_hover.atm-s a:hover,.atm-s a:hover{background:#2095f0;text-decoration:none;color:#fff!important}#at_hover.atm-s .at_bold{font-weight:700}#at_hover.atm-s a:hover .at_bold{color:#fff!important}.atm-s a .at-label{vertical-align:middle;margin-left:5px;direction:ltr}.at_PinItButton{display:block;width:40px;height:20px;padding:0;margin:0;background-image:url(//s7.addthis.com/static/t00/pinit00.png);background-repeat:no-repeat}.at_PinItButton:hover{background-position:0 -20px}.addthis_toolbox .addthis_button_pinterest_pinit{position:relative}.at-share-tbx-element .fb_iframe_widget span{vertical-align:baseline!important}#at16pf{height:auto;text-align:right;padding:4px 8px}.at-privacy-info{position:absolute;left:7px;bottom:7px;cursor:pointer;text-decoration:none;font-family:helvetica,arial,sans-serif;font-size:10px;line-height:9pt;letter-spacing:.2px;color:#666}.at-privacy-info:hover{color:#000}.body .wsb-social-share .wsb-social-share-button-vert{padding-top:0;padding-bottom:0}.body .wsb-social-share.addthis_counter_style .addthis_button_tweet.wsb-social-share-button{padding-top:40px}.body .wsb-social-share.addthis_counter_style .addthis_button_google_plusone.wsb-social-share-button{padding-top:0}.body .wsb-social-share.addthis_counter_style .addthis_button_facebook_like.wsb-social-share-button{padding-top:21px}@media print{#at4-follow,#at4-share,#at4-thankyou,#at4-whatsnext,#at4m-mobile,#at15s,.at4,.at4-recommended{display:none!important}}@media screen and (max-width:400px){.at4win{width:100%}}@media screen and (max-height:700px) and (max-width:400px){.at4-thankyou-inner .at4-recommended-container{height:122px;overflow:hidden}.at4-thankyou-inner .at4-recommended .at4-recommended-item:first-child{border-bottom:1px solid #c5c5c5}}</style><style type="text/css">.at-branding-logo{font-family:helvetica,arial,sans-serif;text-decoration:none;font-size:10px;display:inline-block;margin:2px 0;letter-spacing:.2px}.at-branding-logo .at-branding-icon{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAMAAAC67D+PAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRF////+GlNUkcc1QAAAB1JREFUeNpiYIQDBjQmAwMmkwEM0JnY1WIxFyDAABGeAFEudiZsAAAAAElFTkSuQmCC")}.at-branding-logo .at-branding-icon,.at-branding-logo .at-privacy-icon{display:inline-block;height:10px;width:10px;margin-left:4px;margin-right:3px;margin-bottom:-1px;background-repeat:no-repeat}.at-branding-logo .at-privacy-icon{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAKCAMAAABR24SMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABhQTFRF8fr9ot/xXcfn2/P5AKva////////AKTWodjhjAAAAAd0Uk5T////////ABpLA0YAAAA6SURBVHjaJMzBDQAwCAJAQaj7b9xifV0kUKJ9ciWxlzWEWI5gMF65KUTv0VKkjVeTerqE/x7+9BVgAEXbAWI8QDcfAAAAAElFTkSuQmCC")}.at-branding-logo span{text-decoration:none}.at-branding-logo .at-branding-addthis,.at-branding-logo .at-branding-powered-by{color:#666}.at-branding-logo .at-branding-addthis:hover{color:#333}.at-cv-with-image .at-branding-addthis,.at-cv-with-image .at-branding-addthis:hover{color:#fff}a.at-branding-logo:visited{color:initial}.at-branding-info{display:inline-block;padding:0 5px;color:#666;border:1px solid #666;border-radius:50%;font-size:10px;line-height:9pt;opacity:.7;transition:all .3s ease;text-decoration:none}.at-branding-info span{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.at-branding-info:before{content:'i';font-family:Times New Roman}.at-branding-info:hover{color:#0780df;border-color:#0780df}</style><style id="ace_editor.css">.ace_editor {position: relative;overflow: hidden;font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: '';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_text-input-ios {position: absolute !important;top: -100000px !important;left: -100000px !important;}
/*# sourceURL=ace/css/ace_editor.css */</style><style id="ace-tm">.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}
/*# sourceURL=ace/css/ace-tm */</style><style>    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }</style><style type="text/css"></style><script src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/theme-ace-openclassrooms.js"></script><script src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/mode-php.js"></script><style id="ace-openclassrooms">
.ace-openclassrooms .ace_gutter {
    background: #272822;
    color: #8F908A
}
.ace-openclassrooms .ace_print-margin {
    width: 1px;
    background: #555651
}
.ace-openclassrooms {
    background-color: #272822;
    color: #F8F8F2
}
.ace-openclassrooms .ace_cursor {
    color: #F8F8F0
}
.ace-openclassrooms .ace_marker-layer .ace_selection {
    background: #49483E
}
.ace-openclassrooms.ace_multiselect .ace_selection.ace_start {
    box-shadow: 0 0 3px 0px #272822
}
.ace-openclassrooms .ace_marker-layer .ace_step {
    background: rgb(102, 82, 0)
}
.ace-openclassrooms .ace_marker-layer .ace_bracket {
    margin: -1px 0 0 -1px;
    border: 1px solid #49483E
}
.ace-openclassrooms .ace_marker-layer .ace_active-line {
    background: #202020
}
.ace-openclassrooms .ace_gutter-active-line {
    background-color: #272822
}
.ace-openclassrooms .ace_marker-layer .ace_selected-word {
    border: 1px solid #49483E
}
.ace-openclassrooms .ace_invisible {
    color: #52524d
}
.ace-openclassrooms .ace_entity.ace_name.ace_tag,
.ace-openclassrooms .ace_keyword,
.ace-openclassrooms .ace_meta.ace_tag,
.ace-openclassrooms .ace_storage {
    color: #FE4481
}
.ace-openclassrooms .ace_punctuation,
.ace-openclassrooms .ace_punctuation.ace_tag {
    color: #fff
}
.ace-openclassrooms .ace_constant.ace_character,
.ace-openclassrooms .ace_constant.ace_language,
.ace-openclassrooms .ace_constant.ace_numeric,
.ace-openclassrooms .ace_constant.ace_other {
    color: #AE81FF
}
.ace-openclassrooms .ace_invalid {
    color: #F8F8F0;
    background-color: #FE4481
}
.ace-openclassrooms .ace_invalid.ace_deprecated {
    color: #F8F8F0;
    background-color: #AE81FF
}
.ace-openclassrooms .ace_support.ace_constant,
.ace-openclassrooms .ace_support.ace_function {
    color: #66D9EF
}
.ace-openclassrooms .ace_fold {
    background-color: #A6E22E;
    border-color: #F8F8F2
}
.ace-openclassrooms .ace_storage.ace_type,
.ace-openclassrooms .ace_support.ace_class,
.ace-openclassrooms .ace_support.ace_type {
    font-style: italic;
    color: #66D9EF
}
.ace-openclassrooms .ace_entity.ace_name.ace_function,
.ace-openclassrooms .ace_entity.ace_other,
.ace-openclassrooms .ace_entity.ace_other.ace_attribute-name,
.ace-openclassrooms .ace_variable {
    color: #A6E22E
}
.ace-openclassrooms .ace_variable.ace_parameter {
    font-style: italic;
    color: #FD971F
}
.ace-openclassrooms .ace_string {
    color: #E6DB74
}
.ace-openclassrooms .ace_comment {
    color: #918E7B
}
.ace-openclassrooms .ace_indent-guide {
    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y
}
    
/*# sourceURL=ace/css/ace-openclassrooms */</style><style>.ace_static_highlight {font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', 'Droid Sans Mono', monospace;font-size: 12px;white-space: pre-wrap}.ace_static_highlight .ace_gutter {width: 2em;text-align: right;padding: 0 3px 0 0;margin-right: 3px;}.ace_static_highlight.ace_show_gutter .ace_line {padding-left: 2.6em;}.ace_static_highlight .ace_line { position: relative; }.ace_static_highlight .ace_gutter-cell {-moz-user-select: -moz-none;-khtml-user-select: none;-webkit-user-select: none;user-select: none;top: 0;bottom: 0;left: 0;position: absolute;}.ace_static_highlight .ace_gutter-cell:before {content: counter(ace_line, decimal);counter-increment: ace_line;}.ace_static_highlight {counter-reset: ace_line;}
.ace-openclassrooms .ace_gutter {
    background: #272822;
    color: #8F908A
}
.ace-openclassrooms .ace_print-margin {
    width: 1px;
    background: #555651
}
.ace-openclassrooms {
    background-color: #272822;
    color: #F8F8F2
}
.ace-openclassrooms .ace_cursor {
    color: #F8F8F0
}
.ace-openclassrooms .ace_marker-layer .ace_selection {
    background: #49483E
}
.ace-openclassrooms.ace_multiselect .ace_selection.ace_start {
    box-shadow: 0 0 3px 0px #272822
}
.ace-openclassrooms .ace_marker-layer .ace_step {
    background: rgb(102, 82, 0)
}
.ace-openclassrooms .ace_marker-layer .ace_bracket {
    margin: -1px 0 0 -1px;
    border: 1px solid #49483E
}
.ace-openclassrooms .ace_marker-layer .ace_active-line {
    background: #202020
}
.ace-openclassrooms .ace_gutter-active-line {
    background-color: #272822
}
.ace-openclassrooms .ace_marker-layer .ace_selected-word {
    border: 1px solid #49483E
}
.ace-openclassrooms .ace_invisible {
    color: #52524d
}
.ace-openclassrooms .ace_entity.ace_name.ace_tag,
.ace-openclassrooms .ace_keyword,
.ace-openclassrooms .ace_meta.ace_tag,
.ace-openclassrooms .ace_storage {
    color: #FE4481
}
.ace-openclassrooms .ace_punctuation,
.ace-openclassrooms .ace_punctuation.ace_tag {
    color: #fff
}
.ace-openclassrooms .ace_constant.ace_character,
.ace-openclassrooms .ace_constant.ace_language,
.ace-openclassrooms .ace_constant.ace_numeric,
.ace-openclassrooms .ace_constant.ace_other {
    color: #AE81FF
}
.ace-openclassrooms .ace_invalid {
    color: #F8F8F0;
    background-color: #FE4481
}
.ace-openclassrooms .ace_invalid.ace_deprecated {
    color: #F8F8F0;
    background-color: #AE81FF
}
.ace-openclassrooms .ace_support.ace_constant,
.ace-openclassrooms .ace_support.ace_function {
    color: #66D9EF
}
.ace-openclassrooms .ace_fold {
    background-color: #A6E22E;
    border-color: #F8F8F2
}
.ace-openclassrooms .ace_storage.ace_type,
.ace-openclassrooms .ace_support.ace_class,
.ace-openclassrooms .ace_support.ace_type {
    font-style: italic;
    color: #66D9EF
}
.ace-openclassrooms .ace_entity.ace_name.ace_function,
.ace-openclassrooms .ace_entity.ace_other,
.ace-openclassrooms .ace_entity.ace_other.ace_attribute-name,
.ace-openclassrooms .ace_variable {
    color: #A6E22E
}
.ace-openclassrooms .ace_variable.ace_parameter {
    font-style: italic;
    color: #FD971F
}
.ace-openclassrooms .ace_string {
    color: #E6DB74
}
.ace-openclassrooms .ace_comment {
    color: #918E7B
}
.ace-openclassrooms .ace_indent-guide {
    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y
}
    </style></head>
<body class="course oc-body is-connected">
<div id="react_root"></div>
<script id="_EVENTS-IDENTIFY" type="application/json">
        {
            "type": "identify",
            "userId": "6540350",
            "properties": {
                "age": "",
                "name": "Vero Lafaverges",
                "createdAt": "2014-02-10T21:35:06+01:00",
                "email": "v.lafaverges@gmail.com",
                "gender": "F",
                "premium": false,
                "premiumType": "",
                "locale": "fr",
                "language": "fr"
            },
            "integrations": {
                "HubSpot": false
            }
        }
    </script>
<script id="_EVENTS-PAGE" type="application/json">
        {
            "type": "page",
            "integrations": {
                "HubSpot": false
            }
        }
    </script>
<header id="oc-header" class="js-tabs-mobile mainHeader mainHeader--loggedUser " data-widget="tabs">
<!--[if lt IE 10]>
<div class="disclaimer  disclaimer-error">
    Vous utilisez un navigateur obsolète, veuillez le <a href="https://browser-update.org/update.html">mettre à jour</a>.
</div>
<![endif]-->
 
<div id="ie-ten-disclaimer" class="disclaimer disclaimer-error" style="display:none">
Vous utilisez un navigateur obsolète, veuillez le <a href="https://browser-update.org/update.html">mettre à jour</a>.
</div>
<script>
    if (document.documentMode === 10) {
        document.getElementById('ie-ten-disclaimer').style.display = 'block';
    }
</script>
 
<noscript>
&lt;div class="disclaimer  disclaimer--error"&gt;
Veuillez utiliser un &lt;a href="https://browser-update.org/update.html"&gt;navigateur internet moderne&lt;/a&gt; avec JavaScript activé pour naviguer sur OpenClassrooms.com
&lt;/div&gt;
</noscript>
<div class="disclaimer  disclaimer--info hidden  js-cookie-disclaimer">
<div class="disclaimer__wrapper">
<span class="disclaimer__content">
Bienvenue sur OpenClassrooms ! En poursuivant votre navigation, vous acceptez l'utilisation de cookies. <a href="https://openclassrooms.com/privacy-policy#personal-data-gathering">En savoir plus</a>
</span>
<span class="disclaimer__actions">
<a href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/gerer-les-formulaires#" class="disclaimer__button  js-close-button">ok</a>
</span>
</div>
</div>
<div class="mainHeader__wrapper">
<div class="mainHeader__inner">
<a href="https://openclassrooms.com/" class="mainHeader__logo" title="OpenClassrooms.com">
OpenClassrooms.com
</a>
<div class="mainHeader__content">
<div id="tab-main" class="mainHeader__tabs">
<div class="mainHeader__container mainHeader__container--mainMenu">
<nav>
<ul class="mainTopNav">
<li class="mainTopNav__itemContainer">
<a class="mainTopNav__item" href="https://openclassrooms.com/paths">Parcours</a>
</li>
<li class="mainTopNav__itemContainer">
<a class="mainTopNav__item" href="https://openclassrooms.com/courses">Cours</a>
</li>
<li class="mainTopNav__itemContainer">
<a class="mainTopNav__item" href="https://openclassrooms.com/forum/">Forums</a>
</li>
<li class="mainTopNav__itemContainer">
<a class="mainTopNav__item" href="https://openclassrooms.com/premium">Premium</a>
</li>
<li class="mainTopNav__itemContainer">
<a class="mainTopNav__item u--colorBusiness" href="https://openclassrooms.com/for-business">For Business</a>
</li>
</ul>
</nav>
</div>
<div class="mainHeader__container  mainHeader__container--search">
<div id="tab-search" class="mainHeader__search  js-header-searchContainer"><div class="js-courseSearch  topSearchBox" data-widget="courseSearch">
<form tabindex="0" class="js-courseSearch-form  oc-form" action="https://openclassrooms.com/courses" method="get">
<div class="js-courseSearch-inputGroup oc-form__widget  inputGroup topSearchBox__inner u--block">
<i class="topSearchBox__icon icon-search"></i>
<input id="algolia-search-input" type="search" class="js-courseSearch-input oc-form__control inputGroup__input  topSearchBox__input" title="Rechercher" autocomplete="off" data-option_source="https://openclassrooms.com/components/courses/search?q=&lt;%= term %&gt;" placeholder="Rechercher" aria-label="Rechercher" name="q">
</div>
</form>
</div>
</div>
</div>
<div class="mainHeader__container mainHeader__container--avatar">
<div class="popOut  popOut--rightAlign  popOut--noArrow js-popOut-header" data-tabs-content="#tab-userMenu" data-widget="popOut">
<a class="js-popOut-button  popOut__button" href="https://openclassrooms.com/dashboard">
<span class="roundImageNotification">
<span class="popOut__notification js-notifications-main"><!-- react-empty: 1 --></span>
<span class="roundImageNotification__image  icoTabs__image  mainHeader__avatar" style="background-image:url(&#39;https://openclassrooms.com/bundles/common/images/avatar_defaut.png&#39;)">
Vero Lafaverges
</span>
</span>
</a>
<div class="popOut__content">
<div class="popOut__inner">
<div id="tab-userMenu">
<ul class="popOutList avatarPopout" xmlns="http://www.w3.org/1999/html">
<li class="popOutList__item  avatarPopout__itemPremium">
<a class="popOutList__link" href="https://openclassrooms.com/membres/veroxy">
<i class="popOutList__itemIcon  icon-profil  "></i>
<strong class="popOutList__linkMain">Vero Lafaverges</strong>
<small class="popOutList__linkSub  avatarPopout__itemPremiumSub  ">
</small>
</a>
</li>
<li class="popOutList__item">
<a class="popOutList__link" href="https://openclassrooms.com/dashboard">Tableau de bord</a>
</li>
<li class="popOutList__item">
<a class="popOutList__link" href="https://openclassrooms.com/membres/veroxy/parametres">Mes paramètres</a>
</li>
<li class="popOutList__item">
<a class="popOutList__link" href="https://openclassrooms.com/my-courses">Créer un cours</a>
</li>
<li class="popOutList__item js-notifications-menuPm"><!-- react-empty: 1 --></li>
<li class="popOutList__item">
<a href="https://openclassrooms.com/mp/" class="popOutList__link  ">
<i class="popOutList__itemIcon  icon-letter  "></i>
Aucun message</a>
<script>
    App.notifications.oldPrivateMessages = 0;
</script>
</li>
<li class="popOutList__item">
<a href="https://openclassrooms.com/notifications" class="popOutList__link  ">
<i class="popOutList__itemIcon  icon-alarm  "></i>
Aucune notification</a>
<script>
    App.notifications.forumNotifications = 0;
</script>
</li>
<li class="popOutList__item">
<a class="popOutList__link" href="https://openclassrooms.com/logout?_csrf_token=3iYsITjMsYY78iX1jNgPF5Uia0je__pdx1a2AuF3B88">
<i class="popOutList__itemIcon  icon-off"></i> <span>Déconnexion</span>
</a>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<nav role="navigation" class="icoTabs  mainHeader__tabSet">
<div class="mainHeader__mobileNav">
<span class="icoTabs__tab  mainHeader__tabLogin">
<a class="js-tabs-tab  icoTabs__tab" href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/gerer-les-formulaires#tab-userMenu">
<span class="js-popOut-header  popOut  popOut--noArrow" data-widget="popOut">
<span class="js-popOut-button  popOut__button">
<span class="roundImageNotification">
<span class="popOut__notification js-notifications-main"><!-- react-empty: 1 --></span>
<span class="roundImageNotification__image  icoTabs__image  mainHeader__avatar" style="background-image:url(&#39;https://openclassrooms.com/bundles/common/images/avatar_defaut.png&#39;)">
Vero Lafaverges
</span>
</span>
</span>
</span>
</a>
</span>
<a class="js-tabs-tab  icoTabs__tab  mainHeader__tabSearch" href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/gerer-les-formulaires#tab-search">
<span class="accessibility-hidden">Rechercher</span>
<i class="icon-search  icoTabs__icon"></i>
</a>
<a class="js-tabs-tab  icoTabs__tab  mainHeader__tabCourseMenu" href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/gerer-les-formulaires#tab-courseMenu">
<span class="accessibility-hidden">Cours</span>
<i class="icon-plus  icoTabs__icon"></i>
</a>
<a class="js-tabs-tab  icoTabs__tab  is-disabled" href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/gerer-les-formulaires#tab-courseEditMenu">
<span class="accessibility-hidden">Créer un cours</span>
<i class="icon-plus  icoTabs__icon"></i>
</a>
<a class="js-tabs-tab  icoTabs__tab  is-disabled" data-tabs-default="true" href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/gerer-les-formulaires#tab-searchMenu">
<span class="accessibility-hidden">Rechercher</span>
<i class="icon-search  icoTabs__icon"></i>
</a>
<a class="js-tabs-tab  icoTabs__tab" href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/gerer-les-formulaires#tab-main">
<span class="accessibility-hidden">Menu principal</span>
<i class="icon-menu  icoTabs__icon"></i>
</a>
</div>
</nav>
<div class="js-tabs-content  mainHeader__content"></div>
</div>
</div>
</header>
<div class="centered">
<div id="mainSearch" class="mainSearch"><div data-reactroot=""><button class="mainSearch__close" aria-label="Bouton fermer"><i class="icon-cross"></i></button><input type="text" class="mainSearch__input" placeholder="Web, Design, etc." aria-label="Chercher un cours"><div class="searchFacetsPopup space-bottom"><div class="searchFacetsPopup__overlay"></div><p class="searchFacetsPopup__selectedCategory"><!-- react-text: 8 -->dans<!-- /react-text --><a class="searchFacetsPopup__selectedCategoryLink"></a></p><div class="searchFacetsPopup__content"><div></div></div></div><a class="mainSearch__uncertificateFilter hidden"><span class="bullet bullet--small bullet--grey bullet--smallIcon"><i class="icon-close"></i></span><!-- react-text: 15 --> <!-- /react-text --><!-- react-text: 16 -->avec les cours non certifiants<!-- /react-text --></a><div></div><div></div><p class="space-top"><!-- react-text: 20 -->Voir aussi les<!-- /react-text --><!-- react-text: 21 --> <!-- /react-text --><a><!-- react-text: 23 -->...<!-- /react-text --><!-- react-text: 24 --> <!-- /react-text --><!-- react-text: 25 -->cours non certifiants<!-- /react-text --></a><!-- react-text: 26 --> <!-- /react-text --><!-- react-text: 27 -->correspondant à cette recherche<!-- /react-text --></p></div></div>
</div>
<div id="mainContentWithHeader">
<div id="pre-main-part">
<section class="inset no-padding">
<div class="centered">
<h6 class="accessibility-hidden">Fil d'Ariane</h6>
<nav class="breadcrumb">
<ul class="breadcrumb__trail">
<li class="breadcrumb__item breadcrumb__item--home " itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
<a href="https://openclassrooms.com/" itemprop="url">
<span itemprop="title">Accueil</span>
</a>
</li>
<li class="breadcrumb__item  " itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
<a href="https://openclassrooms.com/courses" itemprop="url">
<span itemprop="title">Cours</span>
</a>
</li>
<li class="breadcrumb__item  " itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
<a href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php?status=published" itemprop="url">
<span itemprop="title">Programmez en orienté objet en PHP</span>
</a>
</li>
<li class="breadcrumb__item  breadcrumb__item--current" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
Gérer les formulaires
</li>
</ul>
</nav>
</div>
</section>
</div>
<div class="claire clearfix">
<article itemscope="" itemtype="http://schema.org/Article">
<header class="course-header" xmlns="http://www.w3.org/1999/html">
<div class="centered"><div class="course-header__topPart"><div class="course-header__info"><a itemprop="url" href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php"><h1 data-course-title="Programmez en orienté objet en PHP">Programmez en orienté objet en PHP</h1></a><span class="course-header__updatedTime visible-l">Mis à jour le lundi 29 mai 2017</span></div></div></div><div class="course-header__details-container"><div class="centered"><div class="row"><div class="col12"><div class="course-header__details  iconBar"><div class="course-header__detailsGroup  course-header__detailsGroup--formats iconBar__group"><ul data-option_popinselector="#popin-formats-availables" class="course-types iconBar__list js-course-formats-bar" data-widget="courseFormatsBar"><li class="iconBar__item  course-types__item  js-tooltip" title="Ce cours est visible gratuitement en ligne."><a href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php"><i class="icon-desktop  course-types__icon"></i><span class="course-header__format-current"></span></a></li><li class="iconBar__item  course-types__item iconBar__item--dimmed js-tooltip" title="Ce cours n&#39;est pas encore en vidéo."><span><i class="icon-video course-types__icon"></i></span></li><li class="iconBar__item  course-types__item  js-tooltip" title="Ce cours existe en livre papier."><a href="http://www.eyrolles.com/Informatique/Livre/programmez-en-oriente-objet-en-php-9791090085855?societe=openclassrooms" target="_blank"><i class="icon-book  course-types__icon"></i></a></li><li class="iconBar__item  course-types__item  js-tooltip" title="Ce cours existe en eBook."><a href="https://openclassrooms.com/ebooks/programmez-en-oriente-objet-en-php"><i class="icon-ebook  course-types__icon"></i></a></li><li class="iconBar__item  course-types__item  js-tooltip" title="Vous pouvez obtenir un certificat de réussite à l&#39;issue de ce cours."><a href="https://openclassrooms.com/courses/1665806/certificate_example" target="_blank"><i class="icon-badge  course-types__icon"></i></a></li><li class="iconBar__item  course-types__item iconBar__item--dimmed js-tooltip" title="Ce cours n&#39;est pas encore diplômant et ne vous permet pas d&#39;obtenir des crédits universitaires européens (ECTS)."><span><i class="icon-hat  course-types__icon"></i></span></li></ul></div><div class="course-header__detailsGroup  course-header__detailsGroup--info  iconBar__group"><ul class="iconBar__list"><li class="iconBar__item"><i class="icon-duration iconBar__icon js-tooltip" title="Ce cours demande en moyenne 30 heures de travail pour être réussi."></i><span class="iconBar__label">30 heures</span></li><li class="iconBar__item"><i class="icon-level iconBar__icon"></i><span class="iconBar__label">
Moyenne
</span></li></ul></div><div class="course-header__detailsGroup course-header__detailsGroup--licences iconBar__group"><a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/2.0"><span class="iconBar__label">Licence</span><ul class="iconBar__list"><li class="iconBar__item"><i class="icon-cc iconBar__icon" title="CC"></i></li><li class="iconBar__item"><i class="icon-ccby iconBar__icon" title="BY"></i></li><li class="iconBar__item"><i class="icon-ccnc iconBar__icon" title="NC"></i></li><li class="iconBar__item"><i class="icon-ccsa iconBar__icon" title="SA"></i></li></ul></a></div></div></div></div></div></div>
<div id="popin-formats-availables" class="popin popin--course-formats-availables">
<i class="popin__close-button icon-close js-close-button"></i>
<div class="course-types course-types--withSpace">
<a class="course-types__item" href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php">
<i class="icon-desktop course-types__icon"></i>
</a>
<a class="course-types__item" href="http://www.eyrolles.com/Informatique/Livre/programmez-en-oriente-objet-en-php-9791090085855?societe=openclassrooms">
<i class="icon-book course-types__icon"></i>
</a>
<a class="course-types__item" href="https://openclassrooms.com/ebooks/programmez-en-oriente-objet-en-php">
<i class="icon-ebook course-types__icon"></i>
</a>
<a class="course-types__item" href="https://openclassrooms.com/courses/1665806/certificate_example" target="_blank">
<i class="icon-badge course-types__icon js-close-button"></i>
</a>
<a class="course-types__item" href="https://openclassrooms.com/premium#discover-premium-plus-offer">
<i class="icon-mentor course-types__icon"></i>
</a>
</div>
<p>Ce cours est visible <a href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php">gratuitement en ligne</a>.</p>
<p>
Ce cours existe en livre papier.
</p>
<p>Ce cours existe <a href="https://openclassrooms.com/ebooks/programmez-en-oriente-objet-en-php">en eBook</a>.</p>
<p>
Vous pouvez obtenir un certificat de réussite à l'issue de ce cours.
</p>
<p>
Vous pouvez être <a href="https://openclassrooms.com/premium#discover-premium-plus-offer">accompagné et mentoré par un professeur particulier</a> par visioconférence sur ce cours.
</p>
<a class="button button--primary js-close-button" href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/gerer-les-formulaires#">J'ai tout compris !</a>
</div>
</header>
<div class="centered">
<div class="row">
<div class="col12 col11-s">
<nav class="timeline">
<div class="timeline__inner">
<span class="timeline__iconContainer">
<a href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php" title="Retour sur le sommaire du cours" class="roundIcon timeline__roundIcon">
<i class="icon-home roundIcon__icon"></i>
</a>
</span>
<div class="timeline__steps">
<span class="timeline__splitChapter"></span>
<a href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/introduction-a-la-poo" class="timeline__step timeline__step--completed">
<span class="timeline__stepName">
Introduction à la POO
</span>
</a>
<a href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/utiliser-la-classe" class="timeline__step timeline__step--completed">
<span class="timeline__stepName">
Utiliser la classe
</span>
</a>
<a href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee" class="timeline__step timeline__step--completed">
<span class="timeline__stepName">
L'opérateur de résolution de portée
</span>
</a>
<a href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees" class="timeline__step timeline__step--completed">
<span class="timeline__stepName">
Manipulation de données stockées
</span>
</a>
<a href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat" class="timeline__step">
<span class="timeline__stepName">
TP : Mini-jeu de combat
</span>
</a>
<a href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/l-heritage-3" class="timeline__step timeline__step--completed">
<span class="timeline__stepName">
L'héritage
</span>
</a>
<a href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises" class="timeline__step">
<span class="timeline__stepName">
TP : Des personnages spécialisés
</span>
</a>
<a href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/les-methodes-magiques-3" class="timeline__step">
<span class="timeline__stepName">
Les méthodes magiques
</span>
</a>
<span class="timeline__splitChapter"></span>
<a href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/les-objets-en-profondeur" class="timeline__step">
<span class="timeline__stepName">
Les objets en profondeur
</span>
</a>
<a href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/les-interfaces-1" class="timeline__step">
<span class="timeline__stepName">
Les interfaces
</span>
</a>
<a href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/les-exceptions-10" class="timeline__step">
<span class="timeline__stepName">
Les exceptions
</span>
</a>
<a href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/les-traits-2" class="timeline__step">
<span class="timeline__stepName">
Les traits
</span>
</a>
<a href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/l-api-de-reflexivite" class="timeline__step">
<span class="timeline__stepName">
L'API de réflexivité
</span>
</a>
<a href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/uml-presentation-1-2" class="timeline__step">
<span class="timeline__stepName">
UML : présentation (1/2)
</span>
</a>
<a href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2" class="timeline__step">
<span class="timeline__stepName">
UML : modélisons nos classes (2/2)
</span>
</a>
<a href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/les-design-patterns" class="timeline__step">
<span class="timeline__stepName">
Les design patterns
</span>
</a>
<a href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news" class="timeline__step">
<span class="timeline__stepName">
TP : un système de news
</span>
</a>
<a href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/les-generateurs-4" class="timeline__step">
<span class="timeline__stepName">
Les générateurs
</span>
</a>
<a href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/les-closures-2" class="timeline__step">
<span class="timeline__stepName">
Les closures
</span>
</a>
<a href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/exercises/390" class="timeline__step">
<span class="timeline__stepName">
Quiz : Quiz 2
</span>
</a>
<span class="timeline__splitChapter"></span>
<a href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/description-de-l-application" class="timeline__step">
<span class="timeline__stepName">
Description de l'application
</span>
</a>
<a href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque" class="timeline__step">
<span class="timeline__stepName">
Développement de la bibliothèque
</span>
</a>
<a href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/le-frontend" class="timeline__step">
<span class="timeline__stepName">
Le frontend
</span>
</a>
<a href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/le-backend" class="timeline__step">
<span class="timeline__stepName">
Le backend
</span>
</a>
<a href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/gerer-les-formulaires" class="timeline__step">
<span class="timeline__stepName">
Gérer les formulaires
</span>
<span class="timeline__progressMarker"></span>
</a>
<a href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/exercises/391" class="timeline__step">
<span class="timeline__stepName">
Activité : Créez un système de mise en cache
</span>
</a>
<span class="timeline__splitChapter"></span>
<a href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/l-operateur-instanceof" class="timeline__step">
<span class="timeline__stepName">
L'opérateur instanceof
</span>
</a>
<span class="timeline__splitChapter"></span>
</div>
<span class="timeline__iconContainer">
<a href="https://openclassrooms.com/courses/1665806/certificate_example" title="Certificat de réussite (voir un exemple)" class="roundIcon timeline__roundIcon">
<i class="icon-trophy roundIcon__icon"></i>
</a>
</span>
</div>
</nav>
</div>
</div>
</div>
<div class="centered">
<div class="contentWithSidebar  spacer  js-contentWithSidebar" data-widget="contentWithSidebar">
<main class="contentWithSidebar__content">
<div class="relative js-sidebar-container">
<div class="static">
<h2 itemprop="name" data-part-title="Gérer les formulaires" class="part-title">Gérer les formulaires</h2>
<section class="row space-bottom js-desktop-sticky-container">
<div class="col9 col11-s col__small-padding--right">
<div itemprop="articleBody" data-page-indentifier="/courses/programmez-en-oriente-objet-en-php/gerer-les-formulaires" class="js-isRestrictablePage js-course-container js-smilize js-userCanWatchVideo">
<div class="userContent js-userContent">
<p id="r-1672158" data-claire-element-id="1695940" class="">Il est possible que quelque chose vous chiffonne un petit peu. En effet, dans le <em>frontend</em>, nous avons créé un formulaire pour ajouter un commentaire. Dans le <em>backend</em>, nous avons recréé quasiment le même : nous avons fait de la <strong>duplication de code</strong>. Or, puisque vous êtes un excellent programmeur, cela devrait vous piquer les yeux !</p><p id="r-1672159" data-claire-element-id="3464011" class="">Pour pallier ce problème courant de duplication de formulaires, nous allons <strong>externaliser</strong> nos formulaires à l'aide d'une API, c'est-à-dire que le code créant le formulaire sera accessible à un autre endroit, par n'importe quel module de n'importe quelle application. Cette technique fera d'une pierre deux coups : non seulement nos formulaires seront décentralisés (donc réutilisables une infinité de fois), mais la création se fera de manière beaucoup plus aisée ! Bien sûr, comme pour la conception de l'application, cela deviendra rapide une fois l'API développée. <img alt=";)" class="smilies js-smiley" src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/clin.png"></p><aside id="r-2694222" data-claire-element-id="3484652" data-claire-semantic="information" class=""><p id="r-2694221" data-claire-element-id="3484651">Si vous vous sentez perdus au cours de ce chapitre parce que vous n'arrivez plus à voir où se situent les fichiers, vous pouvez accéder à la liste des dossiers avec leurs fichiers que vous devez obtenir à la fin de ce chapitre <a href="http://www.victorthuillier.com/oc/poo/tp_app/?f=Partie+III%2FChapitre+5">à cette adresse</a>.</p></aside><div class="foldable" id="ui-id-1" data-widget="foldable"><h3 id="r-1668983" data-claire-element-id="3486058" class="foldable__button secondTitle js-foldable-button">Le formulaire<i class="foldable__icon icon-next"></i></h3><div class="foldable__content"><h4 id="r-1672195" data-claire-element-id="3486057" class="">Conception du formulaire</h4><p id="r-1672160" data-claire-element-id="1695942" class="">Commençons dans ce chapitre par créer un premier formulaire. Un formulaire, vous le savez, n'est autre qu'un ensemble de champs permettant d'interagir avec le contenu du site. Par exemple, voici notre formulaire d'ajout de commentaire :</p><pre id="r-1672161" data-claire-element-id="3464012" class="code-block"><code data-claire-semantic="php" data-code="{&quot;language&quot;:&quot;php&quot;,&quot;source&quot;:&quot;&lt;form action=\&quot;\&quot; method=\&quot;post\&quot;&gt;\n  &lt;p&gt;\n    &lt;?= isset($erreurs) &amp;&amp; in_array(\\Entity\\Comment::AUTEUR_INVALIDE, $erreurs) ? &#39;L\\&#39;auteur est invalide.&lt;br /&gt;&#39; : &#39;&#39; ?&gt;\n    &lt;label&gt;Pseudo&lt;/label&gt;\n    &lt;input type=\&quot;text\&quot; name=\&quot;pseudo\&quot; value=\&quot;&lt;?= isset($comment) ? htmlspecialchars($comment[&#39;auteur&#39;]) : &#39;&#39; ?&gt;\&quot; /&gt;&lt;br /&gt;\n    \n    &lt;?= isset($erreurs) &amp;&amp; in_array(\\Entity\\Comment::CONTENU_INVALIDE, $erreurs)) &#39;Le contenu est invalide.&lt;br /&gt;&#39; : &#39;&#39; ?&gt;\n    &lt;label&gt;Contenu&lt;/label&gt;\n    &lt;textarea name=\&quot;contenu\&quot; rows=\&quot;7\&quot; cols=\&quot;50\&quot;&gt;&lt;?= isset($comment) ? htmlspecialchars($comment[&#39;contenu&#39;]) : &#39;&#39; ?&gt;&lt;/textarea&gt;&lt;br /&gt;\n    \n    &lt;input type=\&quot;submit\&quot; value=\&quot;Commenter\&quot; /&gt;\n  &lt;/p&gt;\n&lt;/form&gt;&quot;}" class="ace" data-widget="codeBlock"><div class="ace-openclassrooms"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_form ace_tag-name ace_xml">form</span><span class="ace_text ace_tag-whitespace ace_xml"> </span><span class="ace_entity ace_other ace_attribute-name ace_xml">action</span><span class="ace_keyword ace_operator ace_attribute-equals ace_xml">=</span><span class="ace_string ace_attribute-value ace_xml">""</span><span class="ace_text ace_tag-whitespace ace_xml"> </span><span class="ace_entity ace_other ace_attribute-name ace_xml">method</span><span class="ace_keyword ace_operator ace_attribute-equals ace_xml">=</span><span class="ace_string ace_attribute-value ace_xml">"post"</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">  </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">p</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">    </span><span class="ace_support ace_php_tag">&lt;?=</span> <span class="ace_support ace_function">isset</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$erreurs</span><span class="ace_paren ace_rparen">)</span> <span class="ace_keyword ace_operator">&amp;&amp;</span> <span class="ace_support ace_function">in_array</span><span class="ace_paren ace_lparen">(</span>\<span class="ace_identifier">Entity</span>\<span class="ace_support ace_class">Comment</span><span class="ace_keyword ace_operator">::</span><span class="ace_identifier">AUTEUR_INVALIDE</span>, <span class="ace_variable">$erreurs</span><span class="ace_paren ace_rparen">)</span> ? <span class="ace_string">'L</span><span class="ace_constant ace_language ace_escape">\'</span><span class="ace_string">auteur est invalide.&lt;br /&gt;'</span> : <span class="ace_string">''</span> <span class="ace_support ace_php_tag">?&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_form ace_tag-name ace_xml">label</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_text ace_xml">Pseudo</span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_form ace_tag-name ace_xml">label</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_form ace_tag-name ace_xml">input</span><span class="ace_text ace_tag-whitespace ace_xml"> </span><span class="ace_entity ace_other ace_attribute-name ace_xml">type</span><span class="ace_keyword ace_operator ace_attribute-equals ace_xml">=</span><span class="ace_string ace_attribute-value ace_xml">"text"</span><span class="ace_text ace_tag-whitespace ace_xml"> </span><span class="ace_entity ace_other ace_attribute-name ace_xml">name</span><span class="ace_keyword ace_operator ace_attribute-equals ace_xml">=</span><span class="ace_string ace_attribute-value ace_xml">"pseudo"</span><span class="ace_text ace_tag-whitespace ace_xml"> </span><span class="ace_entity ace_other ace_attribute-name ace_xml">value</span><span class="ace_keyword ace_operator ace_attribute-equals ace_xml">=</span><span class="ace_string ace_attribute-value ace_xml">"</span><span class="ace_support ace_php_tag">&lt;?=</span> <span class="ace_support ace_function">isset</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$comment</span><span class="ace_paren ace_rparen">)</span> ? <span class="ace_support ace_function">htmlspecialchars</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$comment</span><span class="ace_paren ace_lparen">[</span><span class="ace_string">'auteur'</span><span class="ace_paren ace_rparen">])</span> : <span class="ace_string">''</span> <span class="ace_support ace_php_tag">?&gt;</span><span class="ace_string ace_attribute-value ace_xml">"</span><span class="ace_text ace_tag-whitespace ace_xml"> </span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">/&gt;</span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">br</span><span class="ace_text ace_tag-whitespace ace_xml"> </span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">/&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">    </span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">    </span><span class="ace_support ace_php_tag">&lt;?=</span> <span class="ace_support ace_function">isset</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$erreurs</span><span class="ace_paren ace_rparen">)</span> <span class="ace_keyword ace_operator">&amp;&amp;</span> <span class="ace_support ace_function">in_array</span><span class="ace_paren ace_lparen">(</span>\<span class="ace_identifier">Entity</span>\<span class="ace_support ace_class">Comment</span><span class="ace_keyword ace_operator">::</span><span class="ace_identifier">CONTENU_INVALIDE</span>, <span class="ace_variable">$erreurs</span><span class="ace_paren ace_rparen">))</span> <span class="ace_string">'Le contenu est invalide.&lt;br /&gt;'</span> : <span class="ace_string">''</span> <span class="ace_support ace_php_tag">?&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_form ace_tag-name ace_xml">label</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_text ace_xml">Contenu</span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_form ace_tag-name ace_xml">label</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_form ace_tag-name ace_xml">textarea</span><span class="ace_text ace_tag-whitespace ace_xml"> </span><span class="ace_entity ace_other ace_attribute-name ace_xml">name</span><span class="ace_keyword ace_operator ace_attribute-equals ace_xml">=</span><span class="ace_string ace_attribute-value ace_xml">"contenu"</span><span class="ace_text ace_tag-whitespace ace_xml"> </span><span class="ace_entity ace_other ace_attribute-name ace_xml">rows</span><span class="ace_keyword ace_operator ace_attribute-equals ace_xml">=</span><span class="ace_string ace_attribute-value ace_xml">"7"</span><span class="ace_text ace_tag-whitespace ace_xml"> </span><span class="ace_entity ace_other ace_attribute-name ace_xml">cols</span><span class="ace_keyword ace_operator ace_attribute-equals ace_xml">=</span><span class="ace_string ace_attribute-value ace_xml">"50"</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_support ace_php_tag">&lt;?=</span> <span class="ace_support ace_function">isset</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$comment</span><span class="ace_paren ace_rparen">)</span> ? <span class="ace_support ace_function">htmlspecialchars</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$comment</span><span class="ace_paren ace_lparen">[</span><span class="ace_string">'contenu'</span><span class="ace_paren ace_rparen">])</span> : <span class="ace_string">''</span> <span class="ace_support ace_php_tag">?&gt;</span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_form ace_tag-name ace_xml">textarea</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">br</span><span class="ace_text ace_tag-whitespace ace_xml"> </span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">/&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">    </span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_form ace_tag-name ace_xml">input</span><span class="ace_text ace_tag-whitespace ace_xml"> </span><span class="ace_entity ace_other ace_attribute-name ace_xml">type</span><span class="ace_keyword ace_operator ace_attribute-equals ace_xml">=</span><span class="ace_string ace_attribute-value ace_xml">"submit"</span><span class="ace_text ace_tag-whitespace ace_xml"> </span><span class="ace_entity ace_other ace_attribute-name ace_xml">value</span><span class="ace_keyword ace_operator ace_attribute-equals ace_xml">=</span><span class="ace_string ace_attribute-value ace_xml">"Commenter"</span><span class="ace_text ace_tag-whitespace ace_xml"> </span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">/&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">  </span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">p</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_form ace_tag-name ace_xml">form</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div></div></div></code><textarea class="code-block--raw-code"></textarea></pre><p id="r-1672162" data-claire-element-id="1695944">Cependant, vous conviendrez qu'il est long et fastidieux de créer ce formulaire. De plus, si nous voulons éditer un commentaire, il va falloir le dupliquer dans l'application <em>backend</em>. Dans un premier temps, nous allons nous occuper de l'aspect long et fastidieux : laissons un objet générer tous ces champs à notre place !</p><h5 id="r-1672181" data-claire-element-id="3486053">L'objet Form</h5><p id="r-1672163" data-claire-element-id="1695945">Comme nous venons de le voir, <strong>un formulaire n'est autre qu'une liste de champs</strong>. Vous connaissez donc déjà le rôle de cet objet : il sera chargé de représenter le formulaire en possédant une liste de champs.</p><p id="r-1672164" data-claire-element-id="1695946" class="">Commençons alors la liste des fonctionnalités de notre formulaire. Notre formulaire contient divers champs. Nous devons donc pouvoir <strong>ajouter des champs</strong> à notre formulaire. Ensuite, que serait un formulaire si on ne pouvait pas l'afficher ? Dans notre cas, le formulaire ne doit pas être capable de s'afficher mais de <strong>générer</strong> tous les champs qui lui sont attachés afin que le contrôleur puisse récupérer le corps du formulaire pour le passer à la vue. Enfin, notre formulaire doit posséder une dernière fonctionnalité : le capacité de déclarer si le formulaire est valide ou non en vérifiant que chaque champ l'est.</p><p id="r-1672165" data-claire-element-id="1695947">Pour résumer, nous avons donc trois fonctionnalités. Un objet <code>Form</code> doit être capable :</p><ul id="r-1672172" data-claire-element-id="1695954"><li id="r-1672167" data-claire-element-id="1695949"><p id="r-1672166" data-claire-element-id="1695948">D'ajouter des champs à sa liste de champs.</p></li><li id="r-1672169" data-claire-element-id="1695951"><p id="r-1672168" data-claire-element-id="1695950">De générer le corps du formulaire.</p></li><li id="r-1672171" data-claire-element-id="1695953"><p id="r-1672170" data-claire-element-id="1695952">De vérifier si tous les champs sont valides.</p></li></ul><p id="r-1672173" data-claire-element-id="1695955">Ainsi, au niveau des caractéristiques de l'objet, nous en avons qui saute aux yeux : la <strong>liste des champs</strong> !</p><p id="r-1672174" data-claire-element-id="1695956">Cependant, un formulaire est également caractérisé par autre chose. En effet, si je vous demande de me dire comment vous allez vérifier si tous les champs sont valides, vous sauriez comment faire ? À aucun moment nous n'avons passé des valeurs à notre formulaire, donc aucune vérification n'est à effectuer. Il faudrait donc, dans le constructeur de notre objet <code>Form</code>, passer un objet contenant toutes ces valeurs. Ainsi, lors de l'ajout d'un champ, la méthode irait chercher la valeur correspondante dans cet objet et l'assignerait au champ (nous verrons plus tard comment la méthode sait à quel attribut de l'entité correspond le champ). À votre avis, à quoi vont ressembler ces objets ? En fait, vous les avez déjà créés ces objets : ce sont toutes les classes filles de <code>Entity</code> ! Par exemple, si vous voulez modifier un commentaire, vous allez créer un objet <code>Comment</code> que vous allez hydrater, puis vous créerez un objet <code>Form</code> en passant l'objet <code>Comment</code> au constructeur.</p><p id="r-1672175" data-claire-element-id="1695957">Ainsi, voici notre classe <code>Form</code> schématisée (voir la figure suivante).</p><figure id="r-1672178" data-claire-element-id="3486052" class=""><img id="r-1672176" data-claire-element-id="1695958" src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/403806.png" alt="Modélisation de la classe Form"><figcaption>Modélisation de la classe Form</figcaption></figure><aside id="r-1672180" data-claire-element-id="1695962" data-claire-semantic="information"><p id="r-1672179" data-claire-element-id="1695961">Vous pouvez remarquer que la méthode <code>add()</code> renvoie un objet <code>Form</code>. En fait, il s'agit du formulaire auquel on a ajouté le champ : cela permet d’enchaîner facilement les appels à la méthode <code>add()</code> comme nous le verrons juste après.</p></aside><h5 id="r-1672194" data-claire-element-id="3486056">L'objet Field</h5><p id="r-1672182" data-claire-element-id="1695964">Puisque l'objet <code>Form</code> est intimement lié à ses champs, intéressons-nous à la conception de ces champs (ou <em>fields</em> en anglais). Vous l'aurez peut-être deviné : tous nos champs seront des objets, chacun représentant un champ différent (une classe représentera un champ texte, une autre classe représentera une zone de texte, etc.). À ce stade, un <em>tilt</em> devrait s'être produit dans votre tête : ce sont tous des champs, ils doivent donc hériter d'une même classe représentant leur nature en commun, à savoir une classe <code>Field</code> !</p><p id="r-1672183" data-claire-element-id="1695965">Commençons par cette classe <code>Field</code>. Quelles fonctionnalités attendons-nous de cette classe ? Un objet <code>Field</code> doit être capable :</p><ul id="r-1672188" data-claire-element-id="1695970"><li id="r-1672185" data-claire-element-id="1695967"><p id="r-1672184" data-claire-element-id="1695966">De renvoyer le code HTML représentant le champ.</p></li><li id="r-1672187" data-claire-element-id="1695969"><p id="r-1672186" data-claire-element-id="1695968">De vérifier si la valeur du champ est valide.</p></li></ul><p id="r-1672189" data-claire-element-id="1695971">Je pense que vous aviez ces fonctionnalités plus ou moins en tête. Cependant, il y a encore une autre fonctionnalité que nous devons implémenter. En effet, pensez aux classes qui hériteront de <code>Field</code> et qui représenteront chacune un type de champ. Chaque champ a des attributs spécifiques. Par exemple, un champ texte (sur une ligne) possède un attribut <code>maxlength</code>, tandis qu'une zone de texte (un <em>textarea</em>) possède des attributs <code>rows</code> et <code>cols</code>. Chaque classe fille aura donc des attributs à elles seules. Il serait pratique, dès la construction de l'objet, de passer ces valeurs à notre champ (par exemple, assigner <strong>50</strong> à l'attribut <code>maxlength</code>). Pour résoudre ce genre de cas, nous allons procéder d'une façon qui ne vous est pas inconnue : nous allons créer une méthode permettant à l'objet de s'hydrater ! Ainsi, notre classe <code>Field</code> possédera une méthode <code>hydrate()</code>, comme les entités.</p><div id="r-2694943" data-claire-element-id="3485885" data-claire-semantic="question"><p id="r-2694942" data-claire-element-id="3485884">Attends, la classe&nbsp;<code data-claire-semantic="php">Entity</code>&nbsp;possède déjà une telle méthode, on va se contenter de la dupliquer ?</p></div><p id="r-2694944" data-claire-element-id="3485886">Effectivement, cela ne serait pas très propre. Y a-t-il, à votre connaissance, une façon de pallier ce problème de duplication de méthodes ? Oui, il y en a une ! Vous souvenez-vous des traits ? Ils correspondent exactement à ce que nous voulons. Nous allons donc créer un trait <code data-claire-semantic="php">Hydrator</code>&nbsp;qui implémentera cette méthode <code data-claire-semantic="php">hydrate()</code>&nbsp;et que nos classes <code data-claire-semantic="php">Entity</code>&nbsp;et <code data-claire-semantic="php">Field</code>&nbsp;utiliseront !</p><p id="r-2694945" data-claire-element-id="3485887">Ce trait ne contient aucune difficulté à réaliser. Voici ce que vous devez obtenir (ce trait est à placer dans le fichier <strong>/lib/OCFram/Hydrator.php</strong>)&nbsp;:</p><pre id="r-2694946" data-claire-element-id="3485888" class="code-block"><code data-claire-semantic="php" data-code="{&quot;language&quot;:&quot;php&quot;,&quot;source&quot;:&quot;&lt;?php\nnamespace OCFram;\n\ntrait Hydrator\n{\n  public function hydrate($data)\n  {\n    foreach ($data as $key =&gt; $value)\n    {\n      $method = &#39;set&#39;.ucfirst($key);\n      \n      if (is_callable([$this, $method]))\n      {\n        $this-&gt;$method($value);\n      }\n    }\n  }\n}&quot;}" class="ace" data-widget="codeBlock"><div class="ace-openclassrooms"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_support ace_php_tag">&lt;?php</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">namespace</span> <span class="ace_identifier">OCFram</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">trait</span> <span class="ace_identifier">Hydrator</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">hydrate</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$data</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">foreach</span> <span class="ace_paren ace_lparen">(</span><span class="ace_variable">$data</span> <span class="ace_keyword">as</span> <span class="ace_variable">$key</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_variable">$value</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$method</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_string">'set'</span>.<span class="ace_support ace_function">ucfirst</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$key</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_support ace_function">is_callable</span><span class="ace_paren ace_lparen">([</span><span class="ace_variable">$this</span>, <span class="ace_variable">$method</span><span class="ace_paren ace_rparen">]))</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_variable">$method</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$value</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span>
</div></div></div></code><textarea class="code-block--raw-code"></textarea></pre><p id="r-2694947" data-claire-element-id="3485889">Vous pouvez dès à présent modifier la classe&nbsp;<strong>Entity</strong>&nbsp;de notre framework afin d'utiliser ce trait (il faudra donc penser à supprimer la méthode <code data-claire-semantic="php">hydrate()</code>&nbsp;qui y est présente).</p><pre id="r-2694948" data-claire-element-id="3485890" class="code-block"><code data-claire-semantic="php" data-code="{&quot;language&quot;:&quot;php&quot;,&quot;source&quot;:&quot;&lt;?php\nnamespace OCFram;\n\nabstract class Entity implements \\ArrayAccess\n{\n  // Utilisation du trait Hydrator pour que nos entités puissent être hydratées\n  use Hydrator;\n  \n  // La méthode hydrate() n&#39;est ainsi plus implémentée dans notre classe\n}&quot;}" class="ace" data-widget="codeBlock"><div class="ace-openclassrooms"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_support ace_php_tag">&lt;?php</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">namespace</span> <span class="ace_identifier">OCFram</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">abstract</span> <span class="ace_keyword">class</span> <span class="ace_identifier">Entity</span> <span class="ace_keyword">implements</span> \<span class="ace_identifier">ArrayAccess</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_comment">// Utilisation du trait Hydrator pour que nos entités puissent être hydratées</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">use</span> <span class="ace_identifier">Hydrator</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_comment">// La méthode hydrate() n'est ainsi plus implémentée dans notre classe</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span>
</div></div></div></code><textarea class="code-block--raw-code"></textarea></pre><p id="r-1672190" data-claire-element-id="1695972">Voici à la figure suivante le schéma représentant notre classe <code>Field</code> liée à la classe <code>Form</code>, avec deux classes filles en exemple (<code>StringField</code> représentant un champ texte sur une ligne et la classe <code>TextField</code> représentant un <em>textarea</em>).</p><figure id="r-1672193" data-claire-element-id="3486055" class=""><img id="r-1672191" data-claire-element-id="1695973" src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/403807.png" alt="Modélisation de la classe Field" style="cursor: -webkit-zoom-in;"><figcaption>Modélisation de la classe Field</figcaption></figure><h4 id="r-1672235" data-claire-element-id="3485897">Développement de l'API</h4><h5 id="r-1672212" data-claire-element-id="3464021">La classe <code>Form</code></h5><p id="r-1672196" data-claire-element-id="1695978">Pour rappel, voici de quoi la classe <code>Form</code> est composée :</p><ul id="r-1672209" data-claire-element-id="1695991" class=""><li id="r-1672198" data-claire-element-id="1695980"><p id="r-1672197" data-claire-element-id="1695979">D'un attribut stockant la <strong>liste des champs</strong>.</p></li><li id="r-1672200" data-claire-element-id="1695982"><p id="r-1672199" data-claire-element-id="1695981">D'un attribut stockant l'<strong>entité</strong> correspondant au formulaire.</p></li><li id="r-1672202" data-claire-element-id="1695984"><p id="r-1672201" data-claire-element-id="1695983">D'un constructeur récupérant l'entité et invoquant le <em>setter</em> correspondant.</p></li><li id="r-1672204" data-claire-element-id="1695986"><p id="r-1672203" data-claire-element-id="1695985">D'une méthode permettant d'ajouter un champ à la liste des champs.</p></li><li id="r-1672206" data-claire-element-id="1695988"><p id="r-1672205" data-claire-element-id="1695987">D'une méthode permettant de générer le formulaire.</p></li><li id="r-1672208" data-claire-element-id="1695990"><p id="r-1672207" data-claire-element-id="1695989">D'une méthode permettant de vérifier si le formulaire est valide.</p></li></ul><p id="r-1672210" data-claire-element-id="1695992">Voici la classe <code>Form</code> que vous auriez du obtenir :</p><pre id="r-1672211" data-claire-element-id="3464020" class="code-block"><code data-claire-semantic="php" data-code="{&quot;language&quot;:&quot;php&quot;,&quot;source&quot;:&quot;&lt;?php\nnamespace OCFram;\n\nclass Form\n{\n  protected $entity;\n  protected $fields = [];\n  \n  public function __construct(Entity $entity)\n  {\n    $this-&gt;setEntity($entity);\n  }\n  \n  public function add(Field $field)\n  {\n    $attr = $field-&gt;name(); // On récupère le nom du champ.\n    $field-&gt;setValue($this-&gt;entity-&gt;$attr()); // On assigne la valeur correspondante au champ.\n    \n    $this-&gt;fields[] = $field; // On ajoute le champ passé en argument à la liste des champs.\n    return $this;\n  }\n  \n  public function createView()\n  {\n    $view = &#39;&#39;;\n    \n    // On génère un par un les champs du formulaire.\n    foreach ($this-&gt;fields as $field)\n    {\n      $view .= $field-&gt;buildWidget().&#39;&lt;br /&gt;&#39;;\n    }\n    \n    return $view;\n  }\n  \n  public function isValid()\n  {\n    $valid = true;\n    \n    // On vérifie que tous les champs sont valides.\n    foreach ($this-&gt;fields as $field)\n    {\n      if (!$field-&gt;isValid())\n      {\n        $valid = false;\n      }\n    }\n    \n    return $valid;\n  }\n  \n  public function entity()\n  {\n    return $this-&gt;entity;\n  }\n  \n  public function setEntity(Entity $entity)\n  {\n    $this-&gt;entity = $entity;\n  }\n}&quot;}" class="ace" data-widget="codeBlock"><div class="ace-openclassrooms"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_support ace_php_tag">&lt;?php</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">namespace</span> <span class="ace_identifier">OCFram</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">class</span> <span class="ace_identifier">Form</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">protected</span> <span class="ace_variable">$entity</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">protected</span> <span class="ace_variable">$fields</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_paren ace_lparen">[</span><span class="ace_paren ace_rparen">]</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">__construct</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">Entity</span> <span class="ace_variable">$entity</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">setEntity</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$entity</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">add</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">Field</span> <span class="ace_variable">$field</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$attr</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_variable">$field</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">name</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>; <span class="ace_comment">// On récupère le nom du champ.</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$field</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">setValue</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">entity</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_variable">$attr</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">))</span>; <span class="ace_comment">// On assigne la valeur correspondante au champ.</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">fields</span><span class="ace_paren ace_lparen">[</span><span class="ace_paren ace_rparen">]</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_variable">$field</span>; <span class="ace_comment">// On ajoute le champ passé en argument à la liste des champs.</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_support ace_function">return</span> <span class="ace_variable">$this</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">createView</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$view</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_string">''</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_comment">// On génère un par un les champs du formulaire.</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">foreach</span> <span class="ace_paren ace_lparen">(</span><span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">fields</span> <span class="ace_keyword">as</span> <span class="ace_variable">$field</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$view</span> .<span class="ace_keyword ace_operator">=</span> <span class="ace_variable">$field</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">buildWidget</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>.<span class="ace_string">'&lt;br /&gt;'</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_support ace_function">return</span> <span class="ace_variable">$view</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">isValid</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$valid</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_constant ace_language">true</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_comment">// On vérifie que tous les champs sont valides.</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">foreach</span> <span class="ace_paren ace_lparen">(</span><span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">fields</span> <span class="ace_keyword">as</span> <span class="ace_variable">$field</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_keyword ace_operator">!</span><span class="ace_variable">$field</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">isValid</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">))</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_variable">$valid</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_constant ace_language">false</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_support ace_function">return</span> <span class="ace_variable">$valid</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">entity</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_support ace_function">return</span> <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">entity</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">setEntity</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">Entity</span> <span class="ace_variable">$entity</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">entity</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_variable">$entity</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span>
</div></div></div></code><textarea class="code-block--raw-code"></textarea></pre><h5 id="r-1672234" data-claire-element-id="3485896">La classe Field et ses filles</h5><p id="r-1672213" data-claire-element-id="1695995">Voici un petit rappel sur la composition de la classe <code>Field</code>. Cette classe doit être composée :</p><ul id="r-1672228" data-claire-element-id="3464024" class=""><li id="r-1672215" data-claire-element-id="1695997"><p id="r-1672214" data-claire-element-id="1695996">D'un attribut stockant le <strong>message d'erreur</strong> associé au champ.</p></li><li id="r-1672217" data-claire-element-id="3464023"><p id="r-1672216" data-claire-element-id="3464022">D'un attribut stockant le <strong>label</strong> du champ.</p></li><li id="r-1672219" data-claire-element-id="1696001"><p id="r-1672218" data-claire-element-id="1696000">D'un attribut stockant le <strong>nom</strong> du champ.</p></li><li id="r-1672221" data-claire-element-id="1696003"><p id="r-1672220" data-claire-element-id="1696002">D'un attribut stockant la <strong>valeur</strong> du champ.</p></li><li id="r-1672223" data-claire-element-id="1696005"><p id="r-1672222" data-claire-element-id="1696004">D'un constructeur demandant la liste des attributs avec leur valeur afin d'hydrater l'objet.</p></li><li id="r-1672225" data-claire-element-id="1696007"><p id="r-1672224" data-claire-element-id="1696006">D'une méthode (abstraite) chargée de renvoyer le code HTML du champ.</p></li><li id="r-1672227" data-claire-element-id="1696009"><p id="r-1672226" data-claire-element-id="1696008">D'une méthode permettant de savoir si le champ est valide ou non.</p></li></ul><p id="r-1672229" data-claire-element-id="1696011">Les classes filles, quant à elles, n'implémenteront que la méthode abstraite. Si elles possèdent des attributs spécifiques (comme l'attribut <code>maxlength</code> pour la classe <code>StringField</code>), alors elles devront implémenter les mutateurs correspondant (comme vous le verrez plus tard, ce n'est pas nécessaire d'implémenter les accesseurs).</p><p id="r-1672230" data-claire-element-id="1696012">Voici les trois classes que vous auriez du obtenir (la classe <code>Field</code> avec deux classes filles en exemple, <code>StringField</code> et <code>TextField</code>) :</p><pre id="r-1672231" data-claire-element-id="3485895" class="code-block hoveredCourseElement"><code data-claire-semantic="php" data-code="{&quot;language&quot;:&quot;php&quot;,&quot;source&quot;:&quot;&lt;?php\nnamespace OCFram;\n\nabstract class Field\n{\n  // On utilise le trait Hydrator afin que nos objets Field puissent être hydratés\n  use Hydrator;\n  \n  protected $errorMessage;\n  protected $label;\n  protected $name;\n  protected $value;\n  \n  public function __construct(array $options = [])\n  {\n    if (!empty($options))\n    {\n      $this-&gt;hydrate($options);\n    }\n  }\n  \n  abstract public function buildWidget();\n  \n  public function isValid()\n  {\n    // On écrira cette méthode plus tard.\n  }\n  \n  public function label()\n  {\n    return $this-&gt;label;\n  }\n  \n  public function name()\n  {\n    return $this-&gt;name;\n  }\n  \n  public function value()\n  {\n    return $this-&gt;value;\n  }\n  \n  public function setLabel($label)\n  {\n    if (is_string($label))\n    {\n      $this-&gt;label = $label;\n    }\n  }\n  \n  public function setName($name)\n  {\n    if (is_string($name))\n    {\n      $this-&gt;name = $name;\n    }\n  }\n  \n  public function setValue($value)\n  {\n    if (is_string($value))\n    {\n      $this-&gt;value = $value;\n    }\n  }\n}&quot;}" class="ace" data-widget="codeBlock"><div class="ace-openclassrooms"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_support ace_php_tag">&lt;?php</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">namespace</span> <span class="ace_identifier">OCFram</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">abstract</span> <span class="ace_keyword">class</span> <span class="ace_identifier">Field</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_comment">// On utilise le trait Hydrator afin que nos objets Field puissent être hydratés</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">use</span> <span class="ace_identifier">Hydrator</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">protected</span> <span class="ace_variable">$errorMessage</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">protected</span> <span class="ace_variable">$label</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">protected</span> <span class="ace_variable">$name</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">protected</span> <span class="ace_variable">$value</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">__construct</span><span class="ace_paren ace_lparen">(</span><span class="ace_keyword">array</span> <span class="ace_variable">$options</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_paren ace_lparen">[</span><span class="ace_paren ace_rparen">])</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_keyword ace_operator">!</span><span class="ace_support ace_function">empty</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$options</span><span class="ace_paren ace_rparen">))</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">hydrate</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$options</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">abstract</span> <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">buildWidget</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">isValid</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_comment">// On écrira cette méthode plus tard.</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">label</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_support ace_function">return</span> <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">label</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">name</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_support ace_function">return</span> <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">name</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">value</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_support ace_function">return</span> <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">value</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">setLabel</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$label</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_support ace_function">is_string</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$label</span><span class="ace_paren ace_rparen">))</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">label</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_variable">$label</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">setName</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$name</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_support ace_function">is_string</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$name</span><span class="ace_paren ace_rparen">))</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">name</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_variable">$name</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">setValue</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$value</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_support ace_function">is_string</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$value</span><span class="ace_paren ace_rparen">))</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">value</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_variable">$value</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span>
</div></div></div></code><textarea class="code-block--raw-code"></textarea></pre><pre id="r-1672232" data-claire-element-id="3464026" class="code-block"><code data-claire-semantic="php" data-code="{&quot;language&quot;:&quot;php&quot;,&quot;source&quot;:&quot;&lt;?php\nnamespace OCFram;\n\nclass StringField extends Field\n{\n  protected $maxLength;\n  \n  public function buildWidget()\n  {\n    $widget = &#39;&#39;;\n    \n    if (!empty($this-&gt;errorMessage))\n    {\n      $widget .= $this-&gt;errorMessage.&#39;&lt;br /&gt;&#39;;\n    }\n    \n    $widget .= &#39;&lt;label&gt;&#39;.$this-&gt;label.&#39;&lt;/label&gt;&lt;input type=\&quot;text\&quot; name=\&quot;&#39;.$this-&gt;name.&#39;\&quot;&#39;;\n    \n    if (!empty($this-&gt;value))\n    {\n      $widget .= &#39; value=\&quot;&#39;.htmlspecialchars($this-&gt;value).&#39;\&quot;&#39;;\n    }\n    \n    if (!empty($this-&gt;maxLength))\n    {\n      $widget .= &#39; maxlength=\&quot;&#39;.$this-&gt;maxLength.&#39;\&quot;&#39;;\n    }\n    \n    return $widget .= &#39; /&gt;&#39;;\n  }\n  \n  public function setMaxLength($maxLength)\n  {\n    $maxLength = (int) $maxLength;\n    \n    if ($maxLength &gt; 0)\n    {\n      $this-&gt;maxLength = $maxLength;\n    }\n    else\n    {\n      throw new \\RuntimeException(&#39;La longueur maximale doit être un nombre supérieur à 0&#39;);\n    }\n  }\n}&quot;}" class="ace" data-widget="codeBlock"><div class="ace-openclassrooms"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_support ace_php_tag">&lt;?php</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">namespace</span> <span class="ace_identifier">OCFram</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">class</span> <span class="ace_identifier">StringField</span> <span class="ace_keyword">extends</span> <span class="ace_identifier">Field</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">protected</span> <span class="ace_variable">$maxLength</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">buildWidget</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$widget</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_string">''</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_keyword ace_operator">!</span><span class="ace_support ace_function">empty</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">errorMessage</span><span class="ace_paren ace_rparen">))</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$widget</span> .<span class="ace_keyword ace_operator">=</span> <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">errorMessage</span>.<span class="ace_string">'&lt;br /&gt;'</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$widget</span> .<span class="ace_keyword ace_operator">=</span> <span class="ace_string">'&lt;label&gt;'</span>.<span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">label</span>.<span class="ace_string">'&lt;/label&gt;&lt;input type="text" name="'</span>.<span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">name</span>.<span class="ace_string">'"'</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_keyword ace_operator">!</span><span class="ace_support ace_function">empty</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">value</span><span class="ace_paren ace_rparen">))</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$widget</span> .<span class="ace_keyword ace_operator">=</span> <span class="ace_string">' value="'</span>.<span class="ace_support ace_function">htmlspecialchars</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">value</span><span class="ace_paren ace_rparen">)</span>.<span class="ace_string">'"'</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_keyword ace_operator">!</span><span class="ace_support ace_function">empty</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">maxLength</span><span class="ace_paren ace_rparen">))</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$widget</span> .<span class="ace_keyword ace_operator">=</span> <span class="ace_string">' maxlength="'</span>.<span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">maxLength</span>.<span class="ace_string">'"'</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_support ace_function">return</span> <span class="ace_variable">$widget</span> .<span class="ace_keyword ace_operator">=</span> <span class="ace_string">' /&gt;'</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">setMaxLength</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$maxLength</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$maxLength</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_paren ace_lparen">(</span><span class="ace_identifier">int</span><span class="ace_paren ace_rparen">)</span> <span class="ace_variable">$maxLength</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_variable">$maxLength</span> <span class="ace_keyword ace_operator">&gt;</span> <span class="ace_constant ace_numeric">0</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">maxLength</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_variable">$maxLength</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">else</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_keyword">throw</span> <span class="ace_keyword">new</span> \<span class="ace_identifier">RuntimeException</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'La longueur maximale doit être un nombre supérieur à 0'</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span>
</div></div></div></code><textarea class="code-block--raw-code"></textarea></pre><pre id="r-1672233" data-claire-element-id="3464027" class="code-block"><code data-claire-semantic="php" data-code="{&quot;language&quot;:&quot;php&quot;,&quot;source&quot;:&quot;&lt;?php\nnamespace OCFram;\n\nclass TextField extends Field\n{\n  protected $cols;\n  protected $rows;\n  \n  public function buildWidget()\n  {\n    $widget = &#39;&#39;;\n    \n    if (!empty($this-&gt;errorMessage))\n    {\n      $widget .= $this-&gt;errorMessage.&#39;&lt;br /&gt;&#39;;\n    }\n    \n    $widget .= &#39;&lt;label&gt;&#39;.$this-&gt;label.&#39;&lt;/label&gt;&lt;textarea name=\&quot;&#39;.$this-&gt;name.&#39;\&quot;&#39;;\n    \n    if (!empty($this-&gt;cols))\n    {\n      $widget .= &#39; cols=\&quot;&#39;.$this-&gt;cols.&#39;\&quot;&#39;;\n    }\n    \n    if (!empty($this-&gt;rows))\n    {\n      $widget .= &#39; rows=\&quot;&#39;.$this-&gt;rows.&#39;\&quot;&#39;;\n    }\n    \n    $widget .= &#39;&gt;&#39;;\n    \n    if (!empty($this-&gt;value))\n    {\n      $widget .= htmlspecialchars($this-&gt;value);\n    }\n    \n    return $widget.&#39;&lt;/textarea&gt;&#39;;\n  }\n  \n  public function setCols($cols)\n  {\n    $cols = (int) $cols;\n    \n    if ($cols &gt; 0)\n    {\n      $this-&gt;cols = $cols;\n    }\n  }\n  \n  public function setRows($rows)\n  {\n    $rows = (int) $rows;\n    \n    if ($rows &gt; 0)\n    {\n      $this-&gt;rows = $rows;\n    }\n  }\n}&quot;}" class="ace" data-widget="codeBlock"><div class="ace-openclassrooms"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_support ace_php_tag">&lt;?php</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">namespace</span> <span class="ace_identifier">OCFram</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">class</span> <span class="ace_identifier">TextField</span> <span class="ace_keyword">extends</span> <span class="ace_identifier">Field</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">protected</span> <span class="ace_variable">$cols</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">protected</span> <span class="ace_variable">$rows</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">buildWidget</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$widget</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_string">''</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_keyword ace_operator">!</span><span class="ace_support ace_function">empty</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">errorMessage</span><span class="ace_paren ace_rparen">))</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$widget</span> .<span class="ace_keyword ace_operator">=</span> <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">errorMessage</span>.<span class="ace_string">'&lt;br /&gt;'</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$widget</span> .<span class="ace_keyword ace_operator">=</span> <span class="ace_string">'&lt;label&gt;'</span>.<span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">label</span>.<span class="ace_string">'&lt;/label&gt;&lt;textarea name="'</span>.<span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">name</span>.<span class="ace_string">'"'</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_keyword ace_operator">!</span><span class="ace_support ace_function">empty</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">cols</span><span class="ace_paren ace_rparen">))</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$widget</span> .<span class="ace_keyword ace_operator">=</span> <span class="ace_string">' cols="'</span>.<span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">cols</span>.<span class="ace_string">'"'</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_keyword ace_operator">!</span><span class="ace_support ace_function">empty</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">rows</span><span class="ace_paren ace_rparen">))</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$widget</span> .<span class="ace_keyword ace_operator">=</span> <span class="ace_string">' rows="'</span>.<span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">rows</span>.<span class="ace_string">'"'</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$widget</span> .<span class="ace_keyword ace_operator">=</span> <span class="ace_string">'&gt;'</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_keyword ace_operator">!</span><span class="ace_support ace_function">empty</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">value</span><span class="ace_paren ace_rparen">))</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$widget</span> .<span class="ace_keyword ace_operator">=</span> <span class="ace_support ace_function">htmlspecialchars</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">value</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_support ace_function">return</span> <span class="ace_variable">$widget</span>.<span class="ace_string">'&lt;/textarea&gt;'</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">setCols</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$cols</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$cols</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_paren ace_lparen">(</span><span class="ace_identifier">int</span><span class="ace_paren ace_rparen">)</span> <span class="ace_variable">$cols</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_variable">$cols</span> <span class="ace_keyword ace_operator">&gt;</span> <span class="ace_constant ace_numeric">0</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">cols</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_variable">$cols</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">setRows</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$rows</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$rows</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_paren ace_lparen">(</span><span class="ace_identifier">int</span><span class="ace_paren ace_rparen">)</span> <span class="ace_variable">$rows</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_variable">$rows</span> <span class="ace_keyword ace_operator">&gt;</span> <span class="ace_constant ace_numeric">0</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">rows</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_variable">$rows</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span>
</div></div></div></code><textarea class="code-block--raw-code"></textarea></pre><h4 id="r-1672240" data-claire-element-id="3484219">Testons nos nouvelles classes</h4><p id="r-1672236" data-claire-element-id="3484178">Testons dès maintenant nos classes. Dans notre contrôleur de news du <em>frontend</em>, nous allons modifier l'action chargée d'ajouter un commentaire. Créons notre formulaire avec nos nouvelles classes, en commançant par modifier le fichier <strong>NewsController.php</strong> du&nbsp;<em>frontend</em>&nbsp;:</p><pre id="r-2694133" data-claire-element-id="3484179" class="code-block"><code data-claire-semantic="php" data-code="{&quot;language&quot;:&quot;php&quot;,&quot;source&quot;:&quot;&lt;?php\nnamespace App\\Frontend\\Modules\\News;\n\nuse \\OCFram\\BackController;\nuse \\OCFram\\HTTPRequest;\nuse \\Entity\\Comment;\nuse \\OCFram\\Form;\nuse \\OCFram\\StringField;\nuse \\OCFram\\TextField;\n\nclass NewsController extends BackController\n{\n  public function executeInsertComment(HTTPRequest $request)\n  {\n    // Si le formulaire a été envoyé, on crée le commentaire avec les valeurs du formulaire.\n    if ($request-&gt;method() == &#39;POST&#39;)\n    {\n      $comment = new Comment([\n        &#39;news&#39; =&gt; $request-&gt;getData(&#39;news&#39;),\n        &#39;auteur&#39; =&gt; $request-&gt;postData(&#39;auteur&#39;),\n        &#39;contenu&#39; =&gt; $request-&gt;postData(&#39;contenu&#39;)\n      ]);\n    }\n    else\n    {\n      $comment = new Comment;\n    }\n    \n    $form = new Form($comment);\n    \n    $form-&gt;add(new StringField([\n        &#39;label&#39; =&gt; &#39;Auteur&#39;,\n        &#39;name&#39; =&gt; &#39;auteur&#39;,\n        &#39;maxLength&#39; =&gt; 50,\n       ]))\n       -&gt;add(new TextField([\n        &#39;label&#39; =&gt; &#39;Contenu&#39;,\n        &#39;name&#39; =&gt; &#39;contenu&#39;,\n        &#39;rows&#39; =&gt; 7,\n        &#39;cols&#39; =&gt; 50,\n       ]));\n    \n    if ($form-&gt;isValid())\n    {\n      // On enregistre le commentaire\n    }\n    \n    $this-&gt;page-&gt;addVar(&#39;comment&#39;, $comment);\n    $this-&gt;page-&gt;addVar(&#39;form&#39;, $form-&gt;createView()); // On passe le formulaire généré à la vue.\n    $this-&gt;page-&gt;addVar(&#39;title&#39;, &#39;Ajout d\\&#39;un commentaire&#39;);\n  }\n}&quot;}" class="ace" data-widget="codeBlock"><div class="ace-openclassrooms"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_support ace_php_tag">&lt;?php</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">namespace</span> <span class="ace_identifier">App</span>\<span class="ace_identifier">Frontend</span>\<span class="ace_identifier">Modules</span>\<span class="ace_identifier">News</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">use</span> \<span class="ace_identifier">OCFram</span>\<span class="ace_identifier">BackController</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">use</span> \<span class="ace_identifier">OCFram</span>\<span class="ace_identifier">HTTPRequest</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">use</span> \<span class="ace_identifier">Entity</span>\<span class="ace_identifier">Comment</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">use</span> \<span class="ace_identifier">OCFram</span>\<span class="ace_identifier">Form</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">use</span> \<span class="ace_identifier">OCFram</span>\<span class="ace_identifier">StringField</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">use</span> \<span class="ace_identifier">OCFram</span>\<span class="ace_identifier">TextField</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">class</span> <span class="ace_identifier">NewsController</span> <span class="ace_keyword">extends</span> <span class="ace_identifier">BackController</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">executeInsertComment</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">HTTPRequest</span> <span class="ace_variable">$request</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_comment">// Si le formulaire a été envoyé, on crée le commentaire avec les valeurs du formulaire.</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_variable">$request</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">method</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span> <span class="ace_keyword ace_operator">==</span> <span class="ace_string">'POST'</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$comment</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_keyword">new</span> <span class="ace_support ace_class">Comment</span><span class="ace_paren ace_lparen">([</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'news'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_variable">$request</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">getData</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'news'</span><span class="ace_paren ace_rparen">)</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'auteur'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_variable">$request</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">postData</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'auteur'</span><span class="ace_paren ace_rparen">)</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'contenu'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_variable">$request</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">postData</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'contenu'</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_paren ace_rparen">])</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">else</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$comment</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_keyword">new</span> <span class="ace_support ace_class">Comment</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$form</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_keyword">new</span> <span class="ace_support ace_class">Form</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$comment</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$form</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">add</span><span class="ace_paren ace_lparen">(</span><span class="ace_keyword">new</span> <span class="ace_support ace_class">StringField</span><span class="ace_paren ace_lparen">([</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'label'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_string">'Auteur'</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'name'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_string">'auteur'</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'maxLength'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_constant ace_numeric">50</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>   <span class="ace_paren ace_rparen">]))</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>   <span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">add</span><span class="ace_paren ace_lparen">(</span><span class="ace_keyword">new</span> <span class="ace_support ace_class">TextField</span><span class="ace_paren ace_lparen">([</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'label'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_string">'Contenu'</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'name'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_string">'contenu'</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'rows'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_constant ace_numeric">7</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'cols'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_constant ace_numeric">50</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>   <span class="ace_paren ace_rparen">]))</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_variable">$form</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">isValid</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">))</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_comment">// On enregistre le commentaire</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">page</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">addVar</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'comment'</span>, <span class="ace_variable">$comment</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">page</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">addVar</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'form'</span>, <span class="ace_variable">$form</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">createView</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">))</span>; <span class="ace_comment">// On passe le formulaire généré à la vue.</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">page</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">addVar</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'title'</span>, <span class="ace_string">'Ajout d</span><span class="ace_constant ace_language ace_escape">\'</span><span class="ace_string">un commentaire'</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span>
</div></div></div></code><textarea class="code-block--raw-code"></textarea></pre><p id="r-2694134" data-claire-element-id="3484180">La vue correspondante,&nbsp;<strong>insertComment.php</strong>, ressemble maintenant à ceci :</p><pre id="r-2694135" data-claire-element-id="3484181" class="code-block"><code data-claire-semantic="php" data-code="{&quot;language&quot;:&quot;php&quot;,&quot;source&quot;:&quot;&lt;h2&gt;Ajouter un commentaire&lt;/h2&gt;\n&lt;form action=\&quot;\&quot; method=\&quot;post\&quot;&gt;\n  &lt;p&gt;\n    &lt;?= $form ?&gt;\n    \n    &lt;input type=\&quot;submit\&quot; value=\&quot;Commenter\&quot; /&gt;\n  &lt;/p&gt;\n&lt;/form&gt;&quot;}" class="ace" data-widget="codeBlock"><div class="ace-openclassrooms"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">h2</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_text ace_xml">Ajouter un commentaire</span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">h2</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_form ace_tag-name ace_xml">form</span><span class="ace_text ace_tag-whitespace ace_xml"> </span><span class="ace_entity ace_other ace_attribute-name ace_xml">action</span><span class="ace_keyword ace_operator ace_attribute-equals ace_xml">=</span><span class="ace_string ace_attribute-value ace_xml">""</span><span class="ace_text ace_tag-whitespace ace_xml"> </span><span class="ace_entity ace_other ace_attribute-name ace_xml">method</span><span class="ace_keyword ace_operator ace_attribute-equals ace_xml">=</span><span class="ace_string ace_attribute-value ace_xml">"post"</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">  </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">p</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">    </span><span class="ace_support ace_php_tag">&lt;?=</span> <span class="ace_variable">$form</span> <span class="ace_support ace_php_tag">?&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">    </span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_form ace_tag-name ace_xml">input</span><span class="ace_text ace_tag-whitespace ace_xml"> </span><span class="ace_entity ace_other ace_attribute-name ace_xml">type</span><span class="ace_keyword ace_operator ace_attribute-equals ace_xml">=</span><span class="ace_string ace_attribute-value ace_xml">"submit"</span><span class="ace_text ace_tag-whitespace ace_xml"> </span><span class="ace_entity ace_other ace_attribute-name ace_xml">value</span><span class="ace_keyword ace_operator ace_attribute-equals ace_xml">=</span><span class="ace_string ace_attribute-value ace_xml">"Commenter"</span><span class="ace_text ace_tag-whitespace ace_xml"> </span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">/&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">  </span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">p</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_form ace_tag-name ace_xml">form</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div></div></div></code><textarea class="code-block--raw-code"></textarea></pre><p id="r-2694136" data-claire-element-id="3484218">Cependant, avouez que ce n'est pas pratique d'avoir ceci en plein milieu de notre contrôleur. De plus, si nous avons besoin de créer ce formulaire à un autre endroit, nous devrons copier/coller tous ces appels à la méthode <code>add()</code> et recréer tous les champs. Niveau duplication de code, nous sommes servis ! Nous résoudrons ce problème dans la suite du chapitre. Mais avant cela, intéressons-nous à la validation du formulaire. En effet, le contenu de la méthode <code>isValid()</code> est resté vide : faisons appel aux <strong>validateurs</strong> !</p></div></div><div class="foldable" id="ui-id-2" data-widget="foldable"><h3 id="r-1669015" data-claire-element-id="3486068" class="foldable__button secondTitle js-foldable-button">Les validateurs<i class="foldable__icon icon-next"></i></h3><div class="foldable__content"><p id="r-1672241" data-claire-element-id="1696024">Un validateur, comme son nom l'indique, est chargé de valider une donnée. Mais attention : un validateur ne peut valider <strong>qu'une contrainte</strong>. Par exemple, si vous voulez vérifier que votre valeur n'est pas nulle <strong>et</strong> qu'elle ne dépasse pas les cinquante caractères, alors vous aurez besoin de deux validateurs : le premier vérifiera que la valeur n'est pas nulle, et le second vérifiera que la chaine de caractères ne dépassera pas les cinquante caractères.</p><p id="r-1672242" data-claire-element-id="1696025">Là aussi, vous devriez savoir ce qui vous attend au niveau des classes : nous aurons une classe de base (<code>Validator</code>) et une infinité de classes filles (dans le cas précédent, on peut imaginer les classes <code>NotNullValidator</code> et <code>MaxLengthValidator</code>). Attaquons-les dès maintenant !</p><h4 id="r-1672255" data-claire-element-id="3486065">Conception des classes</h4><h5 id="r-1672248" data-claire-element-id="3486061">La classe Validator</h5><p id="r-1672243" data-claire-element-id="3464034">Notre classe de base, <code>Validator</code>, sera chargée, comme nous l'avons dit, de <strong>valider</strong> une donnée. Et c'est tout : un validateur ne sert à rien d'autre que valider une donnée. Au niveau des caractéristiques, il n'y en a là aussi qu'une seule : le message d'erreur que le validateur doit pouvoir renvoyer si la valeur passée n'est pas valide.</p><p id="r-1672244" data-claire-element-id="1696027">Voici donc notre classe schématisée (voir la figure suivante).</p><figure id="r-1672247" data-claire-element-id="3486060"><img id="r-1672245" data-claire-element-id="1696028" src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/403894.png" alt="Modélisation de notre classe Validator"><figcaption>Modélisation de notre classe Validator</figcaption></figure><h5 id="r-1672254" data-claire-element-id="3486064">Les classes filles</h5><p id="r-1672249" data-claire-element-id="1696032">Les classes filles sont elles aussi très simples. Commençons par la plus facile : <code>NotNullValidator</code>. Celle-ci, comme toute classe fille, sera chargée d'implémenter la méthode <code>isValid($value)</code>. Et c'est tout ! La seconde classe, <code>MaxLengthValidator</code>, implémente elle aussi cette méthode. Cependant, il faut qu'elle connaisse le nombre de caractères maximal que la chaîne doit avoir ! Pour cela, cette classe implémentera un constructeur demandant ce nombre en paramètre, et assignera cette valeur à l'attribut correspondant.</p><p id="r-1672250" data-claire-element-id="1696033">Ainsi, voici nos deux classes filles héritant de <code>Validator</code> (voir la figure suivante).</p><figure id="r-1672253" data-claire-element-id="3486063"><img id="r-1672251" data-claire-element-id="1696034" src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/403895.png" alt="Modélisation des classes MaxLengthValidator et NotNullValidator"><figcaption>Modélisation des classes MaxLengthValidator et NotNullValidator</figcaption></figure><h4 id="r-1672263" data-claire-element-id="3464047">Développement des classes</h4><h5 id="r-1672258" data-claire-element-id="3464043">La classe Validator</h5><p id="r-1672256" data-claire-element-id="1696039">Cette classe (comme les classes filles) est assez simple à développer. En effet, il n'y a que l'accesseur et le mutateur du message d'erreur à implémenter, avec un constructeur demandant ledit message d'erreur. La méthode <code>isValid()</code>, quant à elle, est abstraite, donc rien à écrire de ce côté-là !</p><pre id="r-1672257" data-claire-element-id="3464042" class="code-block"><code data-claire-semantic="php" data-code="{&quot;language&quot;:&quot;php&quot;,&quot;source&quot;:&quot;&lt;?php\nnamespace OCFram;\n\nabstract class Validator\n{\n  protected $errorMessage;\n  \n  public function __construct($errorMessage)\n  {\n    $this-&gt;setErrorMessage($errorMessage);\n  }\n  \n  abstract public function isValid($value);\n  \n  public function setErrorMessage($errorMessage)\n  {\n    if (is_string($errorMessage))\n    {\n      $this-&gt;errorMessage = $errorMessage;\n    }\n  }\n  \n  public function errorMessage()\n  {\n    return $this-&gt;errorMessage;\n  }\n}&quot;}" class="ace" data-widget="codeBlock"><div class="ace-openclassrooms"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_support ace_php_tag">&lt;?php</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">namespace</span> <span class="ace_identifier">OCFram</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">abstract</span> <span class="ace_keyword">class</span> <span class="ace_identifier">Validator</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">protected</span> <span class="ace_variable">$errorMessage</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">__construct</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$errorMessage</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">setErrorMessage</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$errorMessage</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">abstract</span> <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">isValid</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$value</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">setErrorMessage</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$errorMessage</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_support ace_function">is_string</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$errorMessage</span><span class="ace_paren ace_rparen">))</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">errorMessage</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_variable">$errorMessage</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">errorMessage</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_support ace_function">return</span> <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">errorMessage</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span>
</div></div></div></code><textarea class="code-block--raw-code"></textarea></pre><h5 id="r-1672262" data-claire-element-id="3464046">Les classes filles</h5><p id="r-1672259" data-claire-element-id="1696042">Comme la précédente, les classes filles sont très simples à concevoir. J'espère que vous y êtes parvenus !</p><pre id="r-1672260" data-claire-element-id="3464044" class="code-block"><code data-claire-semantic="php" data-code="{&quot;language&quot;:&quot;php&quot;,&quot;source&quot;:&quot;&lt;?php\nnamespace OCFram;\n\nclass NotNullValidator extends Validator\n{\n  public function isValid($value)\n  {\n    return $value != &#39;&#39;;\n  }\n}&quot;}" class="ace" data-widget="codeBlock"><div class="ace-openclassrooms"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_support ace_php_tag">&lt;?php</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">namespace</span> <span class="ace_identifier">OCFram</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">class</span> <span class="ace_identifier">NotNullValidator</span> <span class="ace_keyword">extends</span> <span class="ace_identifier">Validator</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">isValid</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$value</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_support ace_function">return</span> <span class="ace_variable">$value</span> <span class="ace_keyword ace_operator">!=</span> <span class="ace_string">''</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span>
</div></div></div></code><textarea class="code-block--raw-code"></textarea></pre><pre id="r-1672261" data-claire-element-id="3464045" class="code-block"><code data-claire-semantic="php" data-code="{&quot;language&quot;:&quot;php&quot;,&quot;source&quot;:&quot;&lt;?php\nnamespace OCFram;\n\nclass MaxLengthValidator extends Validator\n{\n  protected $maxLength;\n  \n  public function __construct($errorMessage, $maxLength)\n  {\n    parent::__construct($errorMessage);\n    \n    $this-&gt;setMaxLength($maxLength);\n  }\n  \n  public function isValid($value)\n  {\n    return strlen($value) &lt;= $this-&gt;maxLength;\n  }\n  \n  public function setMaxLength($maxLength)\n  {\n    $maxLength = (int) $maxLength;\n    \n    if ($maxLength &gt; 0)\n    {\n      $this-&gt;maxLength = $maxLength;\n    }\n    else\n    {\n      throw new \\RuntimeException(&#39;La longueur maximale doit être un nombre supérieur à 0&#39;);\n    }\n  }\n}&quot;}" class="ace" data-widget="codeBlock"><div class="ace-openclassrooms"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_support ace_php_tag">&lt;?php</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">namespace</span> <span class="ace_identifier">OCFram</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">class</span> <span class="ace_identifier">MaxLengthValidator</span> <span class="ace_keyword">extends</span> <span class="ace_identifier">Validator</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">protected</span> <span class="ace_variable">$maxLength</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">__construct</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$errorMessage</span>, <span class="ace_variable">$maxLength</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_support ace_class">parent</span><span class="ace_keyword ace_operator">::</span><span class="ace_identifier">__construct</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$errorMessage</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">setMaxLength</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$maxLength</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">isValid</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$value</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_support ace_function">return</span> <span class="ace_support ace_function">strlen</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$value</span><span class="ace_paren ace_rparen">)</span> <span class="ace_keyword ace_operator">&lt;=</span> <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">maxLength</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">setMaxLength</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$maxLength</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$maxLength</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_paren ace_lparen">(</span><span class="ace_identifier">int</span><span class="ace_paren ace_rparen">)</span> <span class="ace_variable">$maxLength</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_variable">$maxLength</span> <span class="ace_keyword ace_operator">&gt;</span> <span class="ace_constant ace_numeric">0</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">maxLength</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_variable">$maxLength</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">else</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_keyword">throw</span> <span class="ace_keyword">new</span> \<span class="ace_identifier">RuntimeException</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'La longueur maximale doit être un nombre supérieur à 0'</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span>
</div></div></div></code><textarea class="code-block--raw-code"></textarea></pre><h4 id="r-1672271" data-claire-element-id="3486067">Modification de la classe Field</h4><p id="r-1672264" data-claire-element-id="1696047">Comme nous l'avions vu, pour savoir si un champ est valide, il lui faut des <strong>validateurs</strong>. Il va donc falloir passer, dans le constructeur de l'objet <code>Field</code> créé, la liste des validateurs que l'on veut imposer au champ. Dans le cas du champ <strong>auteur</strong> par exemple, nous lui passerons les deux validateurs : nous voulons à la fois que le champ ne soit pas vide et que la valeur ne dépasse pas les cinquante caractères. La création du formulaire ressemblerait donc à ceci :</p><pre id="r-1672265" data-claire-element-id="3484356" class="code-block"><code data-claire-semantic="php" data-code="{&quot;language&quot;:&quot;php&quot;,&quot;source&quot;:&quot;&lt;?php\n// $form représente le formulaire que l&#39;on souhaite créer.\n// Ici, on souhaite lui ajouter le champ « auteur ».\n$form-&gt;add(new StringField([\n  &#39;label&#39; =&gt; &#39;Auteur&#39;,\n  &#39;name&#39; =&gt; &#39;auteur&#39;,\n  &#39;maxLength&#39; =&gt; 50,\n  &#39;validators&#39; =&gt; [\n    new \\OCFram\\MaxLengthValidator(&#39;L\\&#39;auteur spécifié est trop long (50 caractères maximum)&#39;, 50),\n    new \\OCFram\\NotNullValidator(&#39;Merci de spécifier l\\&#39;auteur du commentaire&#39;),\n  ]\n]));&quot;}" class="ace" data-widget="codeBlock"><div class="ace-openclassrooms"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_support ace_php_tag">&lt;?php</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">// $form représente le formulaire que l'on souhaite créer.</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">// Ici, on souhaite lui ajouter le champ « auteur ».</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_variable">$form</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">add</span><span class="ace_paren ace_lparen">(</span><span class="ace_keyword">new</span> <span class="ace_support ace_class">StringField</span><span class="ace_paren ace_lparen">([</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_string">'label'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_string">'Auteur'</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_string">'name'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_string">'auteur'</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_string">'maxLength'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_constant ace_numeric">50</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_string">'validators'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_paren ace_lparen">[</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">new</span> \<span class="ace_identifier">OCFram</span>\<span class="ace_identifier">MaxLengthValidator</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'L</span><span class="ace_constant ace_language ace_escape">\'</span><span class="ace_string">auteur spécifié est trop long (50 caractères maximum)'</span>, <span class="ace_constant ace_numeric">50</span><span class="ace_paren ace_rparen">)</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">new</span> \<span class="ace_identifier">OCFram</span>\<span class="ace_identifier">NotNullValidator</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'Merci de spécifier l</span><span class="ace_constant ace_language ace_escape">\'</span><span class="ace_string">auteur du commentaire'</span><span class="ace_paren ace_rparen">)</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">]</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">]))</span>;
</div></div></div></code><textarea class="code-block--raw-code"></textarea></pre><p id="r-1672266" data-claire-element-id="1696049">De cette façon, quelques modifications au niveau de notre classe <code>Field</code> s'imposent. En effet, il va falloir créer un attribut <code>$validators</code>, ainsi que l'accesseur et le mutateur correspondant. De la sorte, notre méthode <code>hydrate()</code> assignera automatiquement les validateurs passés au constructeur à l'attribut <code>$validators</code>. Je vous laisse faire cela.</p><p id="r-1672267" data-claire-element-id="1696050">Vient maintenant l'implémentation de la méthode <code>isValid()</code>. Cette méthode doit parcourir tous les validateurs et invoquer la méthode <code>isValid($value)</code> sur ces validateurs afin de voir si la valeur passe au travers du filet de <strong>tous</strong> les validateurs. De cette façon, nous sommes sûrs que toutes les contraintes ont été respectées ! Si un validateur renvoie une réponse négative lorsqu'on lui demande si la valeur est valide, alors on devra lui demander le message d'erreur qui lui a été assigné et l'assigner à notre tour à l'attribut correspondant. Ainsi, voici la nouvelle classe <code>Field</code> :</p><pre id="r-1672268" data-claire-element-id="3486066" class="code-block"><code data-claire-semantic="php" data-code="{&quot;language&quot;:&quot;php&quot;,&quot;source&quot;:&quot;&lt;?php\nnamespace OCFram;\n\nabstract class Field\n{\n  use Hydrator;\n  \n  protected $errorMessage;\n  protected $label;\n  protected $name;\n  protected $validators = [];\n  protected $value;\n  \n  public function __construct(array $options = [])\n  {\n    if (!empty($options))\n    {\n      $this-&gt;hydrate($options);\n    }\n  }\n  \n  abstract public function buildWidget();\n  \n  public function isValid()\n  {\n    foreach ($this-&gt;validators as $validator)\n    {\n      if (!$validator-&gt;isValid($this-&gt;value))\n      {\n        $this-&gt;errorMessage = $validator-&gt;errorMessage();\n        return false;\n      }\n    }\n    \n    return true;\n  }\n  \n  public function label()\n  {\n    return $this-&gt;label;\n  }\n  \n  public function length()\n  {\n    return $this-&gt;length;\n  }\n  \n  public function name()\n  {\n    return $this-&gt;name;\n  }\n  \n  public function validators()\n  {\n    return $this-&gt;validators;\n  }\n  \n  public function value()\n  {\n    return $this-&gt;value;\n  }\n  \n  public function setLabel($label)\n  {\n    if (is_string($label))\n    {\n      $this-&gt;label = $label;\n    }\n  }\n  \n  public function setLength($length)\n  {\n    $length = (int) $length;\n    \n    if ($length &gt; 0)\n    {\n      $this-&gt;length = $length;\n    }\n  }\n  \n  public function setName($name)\n  {\n    if (is_string($name))\n    {\n      $this-&gt;name = $name;\n    }\n  }\n  \n  public function setValidators(array $validators)\n  {\n    foreach ($validators as $validator)\n    {\n      if ($validator instanceof Validator &amp;&amp; !in_array($validator, $this-&gt;validators))\n      {\n        $this-&gt;validators[] = $validator;\n      }\n    }\n  }\n  \n  public function setValue($value)\n  {\n    if (is_string($value))\n    {\n      $this-&gt;value = $value;\n    }\n  }\n}&quot;}" class="ace" data-widget="codeBlock"><div class="ace-openclassrooms"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_support ace_php_tag">&lt;?php</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">namespace</span> <span class="ace_identifier">OCFram</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">abstract</span> <span class="ace_keyword">class</span> <span class="ace_identifier">Field</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">use</span> <span class="ace_identifier">Hydrator</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">protected</span> <span class="ace_variable">$errorMessage</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">protected</span> <span class="ace_variable">$label</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">protected</span> <span class="ace_variable">$name</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">protected</span> <span class="ace_variable">$validators</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_paren ace_lparen">[</span><span class="ace_paren ace_rparen">]</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">protected</span> <span class="ace_variable">$value</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">__construct</span><span class="ace_paren ace_lparen">(</span><span class="ace_keyword">array</span> <span class="ace_variable">$options</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_paren ace_lparen">[</span><span class="ace_paren ace_rparen">])</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_keyword ace_operator">!</span><span class="ace_support ace_function">empty</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$options</span><span class="ace_paren ace_rparen">))</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">hydrate</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$options</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">abstract</span> <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">buildWidget</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">isValid</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">foreach</span> <span class="ace_paren ace_lparen">(</span><span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">validators</span> <span class="ace_keyword">as</span> <span class="ace_variable">$validator</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_keyword ace_operator">!</span><span class="ace_variable">$validator</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">isValid</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">value</span><span class="ace_paren ace_rparen">))</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">errorMessage</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_variable">$validator</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">errorMessage</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_support ace_function">return</span> <span class="ace_constant ace_language">false</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_support ace_function">return</span> <span class="ace_constant ace_language">true</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">label</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_support ace_function">return</span> <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">label</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">length</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_support ace_function">return</span> <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">length</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">name</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_support ace_function">return</span> <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">name</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">validators</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_support ace_function">return</span> <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">validators</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">value</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_support ace_function">return</span> <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">value</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">setLabel</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$label</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_support ace_function">is_string</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$label</span><span class="ace_paren ace_rparen">))</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">label</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_variable">$label</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">setLength</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$length</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$length</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_paren ace_lparen">(</span><span class="ace_identifier">int</span><span class="ace_paren ace_rparen">)</span> <span class="ace_variable">$length</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_variable">$length</span> <span class="ace_keyword ace_operator">&gt;</span> <span class="ace_constant ace_numeric">0</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">length</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_variable">$length</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">setName</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$name</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_support ace_function">is_string</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$name</span><span class="ace_paren ace_rparen">))</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">name</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_variable">$name</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">setValidators</span><span class="ace_paren ace_lparen">(</span><span class="ace_keyword">array</span> <span class="ace_variable">$validators</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">foreach</span> <span class="ace_paren ace_lparen">(</span><span class="ace_variable">$validators</span> <span class="ace_keyword">as</span> <span class="ace_variable">$validator</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_variable">$validator</span> <span class="ace_keyword">instanceof</span> <span class="ace_identifier">Validator</span> <span class="ace_keyword ace_operator">&amp;&amp;</span> <span class="ace_keyword ace_operator">!</span><span class="ace_support ace_function">in_array</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$validator</span>, <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">validators</span><span class="ace_paren ace_rparen">))</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">validators</span><span class="ace_paren ace_lparen">[</span><span class="ace_paren ace_rparen">]</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_variable">$validator</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">setValue</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$value</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_support ace_function">is_string</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$value</span><span class="ace_paren ace_rparen">))</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">value</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_variable">$value</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span>
</div></div></div></code><textarea class="code-block--raw-code"></textarea></pre><aside id="r-1672270" data-claire-element-id="3464051" data-claire-semantic="information"><p id="r-1672269" data-claire-element-id="3464050">Vous pouvez apercevoir l'utilisation de l'opérateur <code>instanceof</code> dans le code. Pour en savoir plus à ce sujet, je vous invite à aller lire le chapitre dédié à cet opérateur en annexes.</p></aside></div></div><div class="foldable" id="ui-id-3" data-widget="foldable"><h3 id="r-1669064" data-claire-element-id="3486076" class="foldable__button secondTitle js-foldable-button">Le constructeur de formulaires<i class="foldable__icon icon-next"></i></h3><div class="foldable__content"><p id="r-1672272" data-claire-element-id="1696056">Comme nous l'avons vu, créer le formulaire au sein du contrôleur présente deux inconvénients. Premièrement, cela encombre le contrôleur. Imaginez que vous ayez une dizaine de champs, cela deviendrait énorme ! Le contrôleur doit être clair, et la création du formulaire devrait donc se faire autre part. Deuxièmement, il y a le problème de duplication de code : si vous voulez utiliser ce formulaire dans un autre contrôleur, vous devrez copier/coller tout le code responsable de la création du formulaire. Pas très flexible vous en conviendrez ! Pour cela, nous allons donc créer des <strong>constructeurs de formulaire</strong>. Il y aura par conséquent autant de constructeurs que de formulaires différents.</p><h4 id="r-1672292" data-claire-element-id="3486075">Conception des classes</h4><h5 id="r-1672286" data-claire-element-id="3486071">La classe FormBuilder</h5><p id="r-1672273" data-claire-element-id="1696057">La classe <code>FormBuilder</code> a un rôle bien précis : elle est chargée de <strong>construire un formulaire</strong>. Ainsi, il n'y a qu'une seule fonctionnalité à implémenter... celle de construire le formulaire ! Mais, pour ce faire, encore faudrait-il avoir un objet <code>Form</code>. Nous le créerons donc dans le constructeur et nous l'assignerons à l'attribut correspondant.</p><p id="r-1672274" data-claire-element-id="1696058">Nous avons donc :</p><ul id="r-1672281" data-claire-element-id="1696065"><li id="r-1672276" data-claire-element-id="1696060"><p id="r-1672275" data-claire-element-id="1696059">Une méthode abstraite chargée de construire le formulaire.</p></li><li id="r-1672278" data-claire-element-id="1696062"><p id="r-1672277" data-claire-element-id="1696061">Un attribut stockant le formulaire.</p></li><li id="r-1672280" data-claire-element-id="1696064"><p id="r-1672279" data-claire-element-id="1696063">L'accesseur et le mutateur correspondant.</p></li></ul><p id="r-1672282" data-claire-element-id="1696066">Voici notre classe schématisée (voir la figure suivante).</p><figure id="r-1672285" data-claire-element-id="3486070"><img id="r-1672283" data-claire-element-id="1696067" src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/405063.png" alt="Modélisation de la classe FormBuilder"><figcaption>Modélisation de la classe FormBuilder</figcaption></figure><h5 id="r-1672291" data-claire-element-id="3486074">Les classes filles</h5><p id="r-1672287" data-claire-element-id="1696071">Un constructeur de base c'est bien beau, mais sans classe fille, difficile de construire grand-chose. Je vous propose donc de créer deux constructeurs de formulaire : un constructeur de formulaire de commentaires, et un constructeur de formulaire de news. Nous aurons donc notre classe <code>FormBuilder</code> dont hériteront deux classes, <code>CommentFormBuilder</code> et <code>NewsFormBuilder</code> (voir la figure suivante).</p><figure id="r-1672290" data-claire-element-id="3486073"><img id="r-1672288" data-claire-element-id="1696072" src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/405064.png" alt="Modélisation des classes CommentFormBuilder et NewsFormBuilder"><figcaption>Modélisation des classes CommentFormBuilder et NewsFormBuilder</figcaption></figure><h4 id="r-1672300" data-claire-element-id="3464067">Développement des classes</h4><h5 id="r-1672295" data-claire-element-id="3464062">La classe FormBuilder</h5><p id="r-1672293" data-claire-element-id="1696077">Cette classe est assez simple à créer, j'espère que vous y êtes parvenus !</p><pre id="r-1672294" data-claire-element-id="3464061" class="code-block"><code data-claire-semantic="php" data-code="{&quot;language&quot;:&quot;php&quot;,&quot;source&quot;:&quot;&lt;?php\nnamespace OCFram;\n\nabstract class FormBuilder\n{\n  protected $form;\n  \n  public function __construct(Entity $entity)\n  {\n    $this-&gt;setForm(new Form($entity));\n  }\n  \n  abstract public function build();\n  \n  public function setForm(Form $form)\n  {\n    $this-&gt;form = $form;\n  }\n  \n  public function form()\n  {\n    return $this-&gt;form;\n  }\n}&quot;}" class="ace" data-widget="codeBlock"><div class="ace-openclassrooms"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_support ace_php_tag">&lt;?php</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">namespace</span> <span class="ace_identifier">OCFram</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">abstract</span> <span class="ace_keyword">class</span> <span class="ace_identifier">FormBuilder</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">protected</span> <span class="ace_variable">$form</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">__construct</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">Entity</span> <span class="ace_variable">$entity</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">setForm</span><span class="ace_paren ace_lparen">(</span><span class="ace_keyword">new</span> <span class="ace_support ace_class">Form</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$entity</span><span class="ace_paren ace_rparen">))</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">abstract</span> <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">build</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">setForm</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">Form</span> <span class="ace_variable">$form</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">form</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_variable">$form</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">form</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_support ace_function">return</span> <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">form</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span>
</div></div></div></code><textarea class="code-block--raw-code"></textarea></pre><h5 id="r-1672299" data-claire-element-id="3464066">Les classes filles</h5><p id="r-1672296" data-claire-element-id="3464063">Les classes filles sont simples à créer. En effet, il n'y a que la méthode <code>build()</code> à implémenter, en ayant pour simple contenu d'appeler successivement les méthodes <code>add()</code> sur notre formulaire. Pour l'emplacement des fichiers stockant les classes, je vous propose de les placer dans le dossier <strong>/lib/vendors/FormBuilder</strong>.</p><pre id="r-1672297" data-claire-element-id="3464064" class="code-block"><code data-claire-semantic="php" data-code="{&quot;language&quot;:&quot;php&quot;,&quot;source&quot;:&quot;&lt;?php\nnamespace FormBuilder;\n\nuse \\OCFram\\FormBuilder;\nuse \\OCFram\\StringField;\nuse \\OCFram\\TextField;\nuse \\OCFram\\MaxLengthValidator;\nuse \\OCFram\\NotNullValidator;\n\nclass CommentFormBuilder extends FormBuilder\n{\n  public function build()\n  {\n    $this-&gt;form-&gt;add(new StringField([\n        &#39;label&#39; =&gt; &#39;Auteur&#39;,\n        &#39;name&#39; =&gt; &#39;auteur&#39;,\n        &#39;maxLength&#39; =&gt; 50,\n        &#39;validators&#39; =&gt; [\n          new MaxLengthValidator(&#39;L\\&#39;auteur spécifié est trop long (50 caractères maximum)&#39;, 50),\n          new NotNullValidator(&#39;Merci de spécifier l\\&#39;auteur du commentaire&#39;),\n        ],\n       ]))\n       -&gt;add(new TextField([\n        &#39;label&#39; =&gt; &#39;Contenu&#39;,\n        &#39;name&#39; =&gt; &#39;contenu&#39;,\n        &#39;rows&#39; =&gt; 7,\n        &#39;cols&#39; =&gt; 50,\n        &#39;validators&#39; =&gt; [\n          new NotNullValidator(&#39;Merci de spécifier votre commentaire&#39;),\n        ],\n       ]));\n  }\n}&quot;}" class="ace" data-widget="codeBlock"><div class="ace-openclassrooms"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_support ace_php_tag">&lt;?php</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">namespace</span> <span class="ace_identifier">FormBuilder</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">use</span> \<span class="ace_identifier">OCFram</span>\<span class="ace_identifier">FormBuilder</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">use</span> \<span class="ace_identifier">OCFram</span>\<span class="ace_identifier">StringField</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">use</span> \<span class="ace_identifier">OCFram</span>\<span class="ace_identifier">TextField</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">use</span> \<span class="ace_identifier">OCFram</span>\<span class="ace_identifier">MaxLengthValidator</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">use</span> \<span class="ace_identifier">OCFram</span>\<span class="ace_identifier">NotNullValidator</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">class</span> <span class="ace_identifier">CommentFormBuilder</span> <span class="ace_keyword">extends</span> <span class="ace_identifier">FormBuilder</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">build</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">form</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">add</span><span class="ace_paren ace_lparen">(</span><span class="ace_keyword">new</span> <span class="ace_support ace_class">StringField</span><span class="ace_paren ace_lparen">([</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'label'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_string">'Auteur'</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'name'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_string">'auteur'</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'maxLength'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_constant ace_numeric">50</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'validators'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_paren ace_lparen">[</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>  <span class="ace_keyword">new</span> <span class="ace_support ace_class">MaxLengthValidator</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'L</span><span class="ace_constant ace_language ace_escape">\'</span><span class="ace_string">auteur spécifié est trop long (50 caractères maximum)'</span>, <span class="ace_constant ace_numeric">50</span><span class="ace_paren ace_rparen">)</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>  <span class="ace_keyword">new</span> <span class="ace_support ace_class">NotNullValidator</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'Merci de spécifier l</span><span class="ace_constant ace_language ace_escape">\'</span><span class="ace_string">auteur du commentaire'</span><span class="ace_paren ace_rparen">)</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_paren ace_rparen">]</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>   <span class="ace_paren ace_rparen">]))</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>   <span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">add</span><span class="ace_paren ace_lparen">(</span><span class="ace_keyword">new</span> <span class="ace_support ace_class">TextField</span><span class="ace_paren ace_lparen">([</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'label'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_string">'Contenu'</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'name'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_string">'contenu'</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'rows'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_constant ace_numeric">7</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'cols'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_constant ace_numeric">50</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'validators'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_paren ace_lparen">[</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>  <span class="ace_keyword">new</span> <span class="ace_support ace_class">NotNullValidator</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'Merci de spécifier votre commentaire'</span><span class="ace_paren ace_rparen">)</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_paren ace_rparen">]</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>   <span class="ace_paren ace_rparen">]))</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span>
</div></div></div></code><textarea class="code-block--raw-code"></textarea></pre><pre id="r-1672298" data-claire-element-id="3464065" class="code-block"><code data-claire-semantic="php" data-code="{&quot;language&quot;:&quot;php&quot;,&quot;source&quot;:&quot;&lt;?php\nnamespace FormBuilder;\n\nuse \\OCFram\\FormBuilder;\nuse \\OCFram\\StringField;\nuse \\OCFram\\TextField;\nuse \\OCFram\\MaxLengthValidator;\nuse \\OCFram\\NotNullValidator;\n\nclass NewsFormBuilder extends FormBuilder\n{\n  public function build()\n  {\n    $this-&gt;form-&gt;add(new StringField([\n        &#39;label&#39; =&gt; &#39;Auteur&#39;,\n        &#39;name&#39; =&gt; &#39;auteur&#39;,\n        &#39;maxLength&#39; =&gt; 20,\n        &#39;validators&#39; =&gt; [\n          new MaxLengthValidator(&#39;L\\&#39;auteur spécifié est trop long (20 caractères maximum)&#39;, 20),\n          new NotNullValidator(&#39;Merci de spécifier l\\&#39;auteur de la news&#39;),\n        ],\n       ]))\n       -&gt;add(new StringField([\n        &#39;label&#39; =&gt; &#39;Titre&#39;,\n        &#39;name&#39; =&gt; &#39;titre&#39;,\n        &#39;maxLength&#39; =&gt; 100,\n        &#39;validators&#39; =&gt; [\n          new MaxLengthValidator(&#39;Le titre spécifié est trop long (100 caractères maximum)&#39;, 100),\n          new NotNullValidator(&#39;Merci de spécifier le titre de la news&#39;),\n        ],\n       ]))\n       -&gt;add(new TextField([\n        &#39;label&#39; =&gt; &#39;Contenu&#39;,\n        &#39;name&#39; =&gt; &#39;contenu&#39;,\n        &#39;rows&#39; =&gt; 8,\n        &#39;cols&#39; =&gt; 60,\n        &#39;validators&#39; =&gt; [\n          new NotNullValidator(&#39;Merci de spécifier le contenu de la news&#39;),\n        ],\n       ]));\n  }\n}&quot;}" class="ace" data-widget="codeBlock"><div class="ace-openclassrooms"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_support ace_php_tag">&lt;?php</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">namespace</span> <span class="ace_identifier">FormBuilder</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">use</span> \<span class="ace_identifier">OCFram</span>\<span class="ace_identifier">FormBuilder</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">use</span> \<span class="ace_identifier">OCFram</span>\<span class="ace_identifier">StringField</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">use</span> \<span class="ace_identifier">OCFram</span>\<span class="ace_identifier">TextField</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">use</span> \<span class="ace_identifier">OCFram</span>\<span class="ace_identifier">MaxLengthValidator</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">use</span> \<span class="ace_identifier">OCFram</span>\<span class="ace_identifier">NotNullValidator</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">class</span> <span class="ace_identifier">NewsFormBuilder</span> <span class="ace_keyword">extends</span> <span class="ace_identifier">FormBuilder</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">build</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">form</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">add</span><span class="ace_paren ace_lparen">(</span><span class="ace_keyword">new</span> <span class="ace_support ace_class">StringField</span><span class="ace_paren ace_lparen">([</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'label'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_string">'Auteur'</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'name'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_string">'auteur'</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'maxLength'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_constant ace_numeric">20</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'validators'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_paren ace_lparen">[</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>  <span class="ace_keyword">new</span> <span class="ace_support ace_class">MaxLengthValidator</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'L</span><span class="ace_constant ace_language ace_escape">\'</span><span class="ace_string">auteur spécifié est trop long (20 caractères maximum)'</span>, <span class="ace_constant ace_numeric">20</span><span class="ace_paren ace_rparen">)</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>  <span class="ace_keyword">new</span> <span class="ace_support ace_class">NotNullValidator</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'Merci de spécifier l</span><span class="ace_constant ace_language ace_escape">\'</span><span class="ace_string">auteur de la news'</span><span class="ace_paren ace_rparen">)</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_paren ace_rparen">]</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>   <span class="ace_paren ace_rparen">]))</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>   <span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">add</span><span class="ace_paren ace_lparen">(</span><span class="ace_keyword">new</span> <span class="ace_support ace_class">StringField</span><span class="ace_paren ace_lparen">([</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'label'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_string">'Titre'</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'name'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_string">'titre'</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'maxLength'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_constant ace_numeric">100</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'validators'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_paren ace_lparen">[</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>  <span class="ace_keyword">new</span> <span class="ace_support ace_class">MaxLengthValidator</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'Le titre spécifié est trop long (100 caractères maximum)'</span>, <span class="ace_constant ace_numeric">100</span><span class="ace_paren ace_rparen">)</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>  <span class="ace_keyword">new</span> <span class="ace_support ace_class">NotNullValidator</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'Merci de spécifier le titre de la news'</span><span class="ace_paren ace_rparen">)</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_paren ace_rparen">]</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>   <span class="ace_paren ace_rparen">]))</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>   <span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">add</span><span class="ace_paren ace_lparen">(</span><span class="ace_keyword">new</span> <span class="ace_support ace_class">TextField</span><span class="ace_paren ace_lparen">([</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'label'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_string">'Contenu'</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'name'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_string">'contenu'</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'rows'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_constant ace_numeric">8</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'cols'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_constant ace_numeric">60</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'validators'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_paren ace_lparen">[</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>  <span class="ace_keyword">new</span> <span class="ace_support ace_class">NotNullValidator</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'Merci de spécifier le contenu de la news'</span><span class="ace_paren ace_rparen">)</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_paren ace_rparen">]</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>   <span class="ace_paren ace_rparen">]))</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span>
</div></div></div></code><textarea class="code-block--raw-code"></textarea></pre><h4 id="r-2687244" data-claire-element-id="3484367">Ajout de l'autoload</h4><p id="r-2687242" data-claire-element-id="3484366">Nous venons à l'instant de créer un nouveau vendor. Afin de pouvoir charger automatiquement les classes qui le composent, nous devons modifier notre bootstrap (situé dans <strong>/Web/bootstrap.php</strong>).</p><pre id="r-2687243" data-claire-element-id="3464069" class="code-block"><code data-claire-semantic="php" data-code="{&quot;language&quot;:&quot;php&quot;,&quot;source&quot;:&quot;&lt;?php\nconst DEFAULT_APP = &#39;Frontend&#39;;\n\n// Si l&#39;application n&#39;est pas valide, on va charger l&#39;application par défaut qui se chargera de générer une erreur 404\nif (!isset($_GET[&#39;app&#39;]) || !file_exists(__DIR__.&#39;/../App/&#39;.$_GET[&#39;app&#39;])) $_GET[&#39;app&#39;] = DEFAULT_APP;\n\n// On commence par inclure la classe nous permettant d&#39;enregistrer nos autoload\nrequire __DIR__.&#39;/../lib/OCFram/SplClassLoader.php&#39;;\n\n// On va ensuite enregistrer les autoloads correspondant à chaque vendor (OCFram, App, Model, etc.)\n$OCFramLoader = new SplClassLoader(&#39;OCFram&#39;, __DIR__.&#39;/../lib&#39;);\n$OCFramLoader-&gt;register();\n\n$appLoader = new SplClassLoader(&#39;App&#39;, __DIR__.&#39;/..&#39;);\n$appLoader-&gt;register();\n\n$modelLoader = new SplClassLoader(&#39;Model&#39;, __DIR__.&#39;/../lib/vendors&#39;);\n$modelLoader-&gt;register();\n\n$entityLoader = new SplClassLoader(&#39;Entity&#39;, __DIR__.&#39;/../lib/vendors&#39;);\n$entityLoader-&gt;register();\n\n$formBuilderLoader = new SplClassLoader(&#39;FormBuilder&#39;, __DIR__.&#39;/../lib/vendors&#39;);\n$formBuilderLoader-&gt;register();\n\n\n// Il ne nous suffit plus qu&#39;à déduire le nom de la classe et de l&#39;instancier\n$appClass = &#39;App\\\\&#39;.$_GET[&#39;app&#39;].&#39;\\\\&#39;.$_GET[&#39;app&#39;].&#39;Application&#39;;\n\n$app = new $appClass;\n$app-&gt;run();&quot;}" class="ace" data-widget="codeBlock"><div class="ace-openclassrooms"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_support ace_php_tag">&lt;?php</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">const</span> <span class="ace_identifier">DEFAULT_APP</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_string">'Frontend'</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">// Si l'application n'est pas valide, on va charger l'application par défaut qui se chargera de générer une erreur 404</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_keyword ace_operator">!</span><span class="ace_support ace_function">isset</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable ace_language">$_GET</span><span class="ace_paren ace_lparen">[</span><span class="ace_string">'app'</span><span class="ace_paren ace_rparen">])</span> <span class="ace_keyword ace_operator">||</span> <span class="ace_keyword ace_operator">!</span><span class="ace_support ace_function">file_exists</span><span class="ace_paren ace_lparen">(</span><span class="ace_constant ace_language">__DIR__</span>.<span class="ace_string">'/../App/'</span>.<span class="ace_variable ace_language">$_GET</span><span class="ace_paren ace_lparen">[</span><span class="ace_string">'app'</span><span class="ace_paren ace_rparen">]))</span> <span class="ace_variable ace_language">$_GET</span><span class="ace_paren ace_lparen">[</span><span class="ace_string">'app'</span><span class="ace_paren ace_rparen">]</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">DEFAULT_APP</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">// On commence par inclure la classe nous permettant d'enregistrer nos autoload</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_support ace_function">require</span> <span class="ace_constant ace_language">__DIR__</span>.<span class="ace_string">'/../lib/OCFram/SplClassLoader.php'</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">// On va ensuite enregistrer les autoloads correspondant à chaque vendor (OCFram, App, Model, etc.)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_variable">$OCFramLoader</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_keyword">new</span> <span class="ace_support ace_class">SplClassLoader</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'OCFram'</span>, <span class="ace_constant ace_language">__DIR__</span>.<span class="ace_string">'/../lib'</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_variable">$OCFramLoader</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">register</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_variable">$appLoader</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_keyword">new</span> <span class="ace_support ace_class">SplClassLoader</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'App'</span>, <span class="ace_constant ace_language">__DIR__</span>.<span class="ace_string">'/..'</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_variable">$appLoader</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">register</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_variable">$modelLoader</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_keyword">new</span> <span class="ace_support ace_class">SplClassLoader</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'Model'</span>, <span class="ace_constant ace_language">__DIR__</span>.<span class="ace_string">'/../lib/vendors'</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_variable">$modelLoader</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">register</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_variable">$entityLoader</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_keyword">new</span> <span class="ace_support ace_class">SplClassLoader</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'Entity'</span>, <span class="ace_constant ace_language">__DIR__</span>.<span class="ace_string">'/../lib/vendors'</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_variable">$entityLoader</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">register</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_variable">$formBuilderLoader</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_keyword">new</span> <span class="ace_support ace_class">SplClassLoader</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'FormBuilder'</span>, <span class="ace_constant ace_language">__DIR__</span>.<span class="ace_string">'/../lib/vendors'</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_variable">$formBuilderLoader</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">register</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">// Il ne nous suffit plus qu'à déduire le nom de la classe et de l'instancier</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_variable">$appClass</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_string">'App</span><span class="ace_constant ace_language ace_escape">\\</span><span class="ace_string">'</span>.<span class="ace_variable ace_language">$_GET</span><span class="ace_paren ace_lparen">[</span><span class="ace_string">'app'</span><span class="ace_paren ace_rparen">]</span>.<span class="ace_string">'</span><span class="ace_constant ace_language ace_escape">\\</span><span class="ace_string">'</span>.<span class="ace_variable ace_language">$_GET</span><span class="ace_paren ace_lparen">[</span><span class="ace_string">'app'</span><span class="ace_paren ace_rparen">]</span>.<span class="ace_string">'Application'</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_variable">$app</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_keyword">new</span> <span class="ace_variable">$appClass</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_variable">$app</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">run</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>;
</div></div></div></code><textarea class="code-block--raw-code"></textarea></pre><h4 id="r-1672319" data-claire-element-id="3484474">Modification des contrôleurs</h4><h5 id="r-1672315" data-claire-element-id="3484467">L'ajout de commentaire (frontend)</h5><p id="r-1672301" data-claire-element-id="1696085">Effectuons des premières modifications, en commençant par le formulaire d'ajout de commentaire dans le <em>frontend</em>. En utilisant nos classes, voici les instructions que nous devons exécuter :</p><ul id="r-1672312" data-claire-element-id="1696096"><li id="r-1672303" data-claire-element-id="1696087"><p id="r-1672302" data-claire-element-id="1696086">Si la requête est de type POST (formulaire soumis), il faut créer un nouveau commentaire en le remplissant avec les données envoyées, sinon on crée un nouveau commentaire.</p></li><li id="r-1672305" data-claire-element-id="1696089"><p id="r-1672304" data-claire-element-id="1696088">On instancie notre constructeur de formulaire en lui passant le commentaire en argument.</p></li><li id="r-1672307" data-claire-element-id="1696091"><p id="r-1672306" data-claire-element-id="1696090">On invoque la méthode de construction du formulaire.</p></li><li id="r-1672309" data-claire-element-id="1696093"><p id="r-1672308" data-claire-element-id="1696092">Si le formulaire est valide, on enregistre le commentaire en BDD.</p></li><li id="r-1672311" data-claire-element-id="1696095"><p id="r-1672310" data-claire-element-id="1696094">On passe le formulaire généré à la vue.</p></li></ul><p id="r-1672313" data-claire-element-id="1696097">Voilà ce que ça donne :</p><pre id="r-1672314" data-claire-element-id="3464154" class="code-block"><code data-claire-semantic="php" data-code="{&quot;language&quot;:&quot;php&quot;,&quot;source&quot;:&quot;&lt;?php\nnamespace App\\Frontend\\Modules\\News;\n\nuse \\OCFram\\BackController;\nuse \\OCFram\\HTTPRequest;\nuse \\Entity\\Comment;\nuse \\FormBuilder\\CommentFormBuilder;\nuse \\OCFram\\FormHandler;\n\nclass NewsController extends BackController\n{\n  // ...\n  \n  public function executeInsertComment(HTTPRequest $request)\n  {\n    // Si le formulaire a été envoyé.\n    if ($request-&gt;method() == &#39;POST&#39;)\n    {\n      $comment = new Comment([\n        &#39;news&#39; =&gt; $request-&gt;getData(&#39;news&#39;),\n        &#39;auteur&#39; =&gt; $request-&gt;postData(&#39;auteur&#39;),\n        &#39;contenu&#39; =&gt; $request-&gt;postData(&#39;contenu&#39;)\n      ]);\n    }\n    else\n    {\n      $comment = new Comment;\n    }\n\n    $formBuilder = new CommentFormBuilder($comment);\n    $formBuilder-&gt;build();\n\n    $form = $formBuilder-&gt;form();\n\n    if ($request-&gt;method() == &#39;POST&#39; &amp;&amp; $form-&gt;isValid())\n    {\n      $this-&gt;managers-&gt;getManagerOf(&#39;Comments&#39;)-&gt;save($comment);\n      $this-&gt;app-&gt;user()-&gt;setFlash(&#39;Le commentaire a bien été ajouté, merci !&#39;);\n      $this-&gt;app-&gt;httpResponse()-&gt;redirect(&#39;news-&#39;.$request-&gt;getData(&#39;news&#39;).&#39;.html&#39;);\n    }\n\n    $this-&gt;page-&gt;addVar(&#39;comment&#39;, $comment);\n    $this-&gt;page-&gt;addVar(&#39;form&#39;, $form-&gt;createView());\n    $this-&gt;page-&gt;addVar(&#39;title&#39;, &#39;Ajout d\\&#39;un commentaire&#39;);\n  }\n  \n  // ...\n}&quot;}" class="ace" data-widget="codeBlock"><div class="ace-openclassrooms"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_support ace_php_tag">&lt;?php</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">namespace</span> <span class="ace_identifier">App</span>\<span class="ace_identifier">Frontend</span>\<span class="ace_identifier">Modules</span>\<span class="ace_identifier">News</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">use</span> \<span class="ace_identifier">OCFram</span>\<span class="ace_identifier">BackController</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">use</span> \<span class="ace_identifier">OCFram</span>\<span class="ace_identifier">HTTPRequest</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">use</span> \<span class="ace_identifier">Entity</span>\<span class="ace_identifier">Comment</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">use</span> \<span class="ace_identifier">FormBuilder</span>\<span class="ace_identifier">CommentFormBuilder</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">use</span> \<span class="ace_identifier">OCFram</span>\<span class="ace_identifier">FormHandler</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">class</span> <span class="ace_identifier">NewsController</span> <span class="ace_keyword">extends</span> <span class="ace_identifier">BackController</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_comment">// ...</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">executeInsertComment</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">HTTPRequest</span> <span class="ace_variable">$request</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_comment">// Si le formulaire a été envoyé.</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_variable">$request</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">method</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span> <span class="ace_keyword ace_operator">==</span> <span class="ace_string">'POST'</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$comment</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_keyword">new</span> <span class="ace_support ace_class">Comment</span><span class="ace_paren ace_lparen">([</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'news'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_variable">$request</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">getData</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'news'</span><span class="ace_paren ace_rparen">)</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'auteur'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_variable">$request</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">postData</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'auteur'</span><span class="ace_paren ace_rparen">)</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'contenu'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_variable">$request</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">postData</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'contenu'</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_paren ace_rparen">])</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">else</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$comment</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_keyword">new</span> <span class="ace_support ace_class">Comment</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$formBuilder</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_keyword">new</span> <span class="ace_support ace_class">CommentFormBuilder</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$comment</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$formBuilder</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">build</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$form</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_variable">$formBuilder</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">form</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_variable">$request</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">method</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span> <span class="ace_keyword ace_operator">==</span> <span class="ace_string">'POST'</span> <span class="ace_keyword ace_operator">&amp;&amp;</span> <span class="ace_variable">$form</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">isValid</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">))</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">managers</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">getManagerOf</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'Comments'</span><span class="ace_paren ace_rparen">)</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">save</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$comment</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">app</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">user</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">setFlash</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'Le commentaire a bien été ajouté, merci !'</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">app</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">httpResponse</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">redirect</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'news-'</span>.<span class="ace_variable">$request</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">getData</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'news'</span><span class="ace_paren ace_rparen">)</span>.<span class="ace_string">'.html'</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">page</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">addVar</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'comment'</span>, <span class="ace_variable">$comment</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">page</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">addVar</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'form'</span>, <span class="ace_variable">$form</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">createView</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">))</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">page</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">addVar</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'title'</span>, <span class="ace_string">'Ajout d</span><span class="ace_constant ace_language ace_escape">\'</span><span class="ace_string">un commentaire'</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_comment">// ...</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span>
</div></div></div></code><textarea class="code-block--raw-code"></textarea></pre><p id="r-2694229" data-claire-element-id="3484466">La vue correspondante,&nbsp;<strong>insertComment.php</strong>, ne change pas par rapport à celle que l'on a créée au début de ce chapitre.</p><h5 id="r-1672318" data-claire-element-id="3484473">La modification de commentaire, l'ajout et la modification de news (backend)</h5><p id="r-1672316" data-claire-element-id="1696100">Normalement, vous devriez être capables, grâce à l'exemple précédent, de parvenir à créer ces trois autres formulaires. Voici le nouveau contrôleur :</p><pre id="r-1672317" data-claire-element-id="3464156" class="code-block"><code data-claire-semantic="php" data-code="{&quot;language&quot;:&quot;php&quot;,&quot;source&quot;:&quot;&lt;?php\nnamespace App\\Backend\\Modules\\News;\n\nuse \\OCFram\\BackController;\nuse \\OCFram\\HTTPRequest;\nuse \\Entity\\Comment;\nuse \\Entity\\News;\nuse \\FormBuilder\\CommentFormBuilder;\nuse \\FormBuilder\\NewsFormBuilder;\nuse \\OCFram\\FormHandler;\n\nclass NewsController extends BackController\n{\n  // ...\n  \n  public function executeInsert(HTTPRequest $request)\n  {\n    $this-&gt;processForm($request);\n\n    $this-&gt;page-&gt;addVar(&#39;title&#39;, &#39;Ajout d\\&#39;une news&#39;);\n  }\n\n  public function executeUpdate(HTTPRequest $request)\n  {\n    $this-&gt;processForm($request);\n\n    $this-&gt;page-&gt;addVar(&#39;title&#39;, &#39;Modification d\\&#39;une news&#39;);\n  }\n\n  public function executeUpdateComment(HTTPRequest $request)\n  {\n    $this-&gt;page-&gt;addVar(&#39;title&#39;, &#39;Modification d\\&#39;un commentaire&#39;);\n\n    if ($request-&gt;method() == &#39;POST&#39;)\n    {\n      $comment = new Comment([\n        &#39;id&#39; =&gt; $request-&gt;getData(&#39;id&#39;),\n        &#39;auteur&#39; =&gt; $request-&gt;postData(&#39;auteur&#39;),\n        &#39;contenu&#39; =&gt; $request-&gt;postData(&#39;contenu&#39;)\n      ]);\n    }\n    else\n    {\n      $comment = $this-&gt;managers-&gt;getManagerOf(&#39;Comments&#39;)-&gt;get($request-&gt;getData(&#39;id&#39;));\n    }\n\n    $formBuilder = new CommentFormBuilder($comment);\n    $formBuilder-&gt;build();\n\n    $form = $formBuilder-&gt;form();\n\n    if ($request-&gt;method() == &#39;POST&#39; &amp;&amp; $form-&gt;isValid())\n    {\n      $this-&gt;managers-&gt;getManagerOf(&#39;Comments&#39;)-&gt;save($comment);\n      $this-&gt;app-&gt;user()-&gt;setFlash(&#39;Le commentaire a bien été modifié&#39;);\n      $this-&gt;app-&gt;httpResponse()-&gt;redirect(&#39;/admin/&#39;);\n    }\n\n    $this-&gt;page-&gt;addVar(&#39;form&#39;, $form-&gt;createView());\n  }\n\n  public function processForm(HTTPRequest $request)\n  {\n    if ($request-&gt;method() == &#39;POST&#39;)\n    {\n      $news = new News([\n        &#39;auteur&#39; =&gt; $request-&gt;postData(&#39;auteur&#39;),\n        &#39;titre&#39; =&gt; $request-&gt;postData(&#39;titre&#39;),\n        &#39;contenu&#39; =&gt; $request-&gt;postData(&#39;contenu&#39;)\n      ]);\n\n      if ($request-&gt;getExists(&#39;id&#39;))\n      {\n        $news-&gt;setId($request-&gt;getData(&#39;id&#39;));\n      }\n    }\n    else\n    {\n      // L&#39;identifiant de la news est transmis si on veut la modifier\n      if ($request-&gt;getExists(&#39;id&#39;))\n      {\n        $news = $this-&gt;managers-&gt;getManagerOf(&#39;News&#39;)-&gt;getUnique($request-&gt;getData(&#39;id&#39;));\n      }\n      else\n      {\n        $news = new News;\n      }\n    }\n\n    $formBuilder = new NewsFormBuilder($news);\n    $formBuilder-&gt;build();\n\n    $form = $formBuilder-&gt;form();\n\n    if ($request-&gt;method() == &#39;POST&#39; &amp;&amp; $form-&gt;isValid())\n    {\n      $this-&gt;managers-&gt;getManagerOf(&#39;News&#39;)-&gt;save($news);\n      $this-&gt;app-&gt;user()-&gt;setFlash($news-&gt;isNew() ? &#39;La news a bien été ajoutée !&#39; : &#39;La news a bien été modifiée !&#39;);\n      $this-&gt;app-&gt;httpResponse()-&gt;redirect(&#39;/admin/&#39;);\n    }\n\n    $this-&gt;page-&gt;addVar(&#39;form&#39;, $form-&gt;createView());\n  }\n}&quot;}" class="ace" data-widget="codeBlock"><div class="ace-openclassrooms"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_support ace_php_tag">&lt;?php</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">namespace</span> <span class="ace_identifier">App</span>\<span class="ace_identifier">Backend</span>\<span class="ace_identifier">Modules</span>\<span class="ace_identifier">News</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">use</span> \<span class="ace_identifier">OCFram</span>\<span class="ace_identifier">BackController</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">use</span> \<span class="ace_identifier">OCFram</span>\<span class="ace_identifier">HTTPRequest</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">use</span> \<span class="ace_identifier">Entity</span>\<span class="ace_identifier">Comment</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">use</span> \<span class="ace_identifier">Entity</span>\<span class="ace_identifier">News</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">use</span> \<span class="ace_identifier">FormBuilder</span>\<span class="ace_identifier">CommentFormBuilder</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">use</span> \<span class="ace_identifier">FormBuilder</span>\<span class="ace_identifier">NewsFormBuilder</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">use</span> \<span class="ace_identifier">OCFram</span>\<span class="ace_identifier">FormHandler</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">class</span> <span class="ace_identifier">NewsController</span> <span class="ace_keyword">extends</span> <span class="ace_identifier">BackController</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_comment">// ...</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">executeInsert</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">HTTPRequest</span> <span class="ace_variable">$request</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">processForm</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$request</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">page</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">addVar</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'title'</span>, <span class="ace_string">'Ajout d</span><span class="ace_constant ace_language ace_escape">\'</span><span class="ace_string">une news'</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">executeUpdate</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">HTTPRequest</span> <span class="ace_variable">$request</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">processForm</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$request</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">page</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">addVar</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'title'</span>, <span class="ace_string">'Modification d</span><span class="ace_constant ace_language ace_escape">\'</span><span class="ace_string">une news'</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">executeUpdateComment</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">HTTPRequest</span> <span class="ace_variable">$request</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">page</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">addVar</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'title'</span>, <span class="ace_string">'Modification d</span><span class="ace_constant ace_language ace_escape">\'</span><span class="ace_string">un commentaire'</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_variable">$request</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">method</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span> <span class="ace_keyword ace_operator">==</span> <span class="ace_string">'POST'</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$comment</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_keyword">new</span> <span class="ace_support ace_class">Comment</span><span class="ace_paren ace_lparen">([</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'id'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_variable">$request</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">getData</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'id'</span><span class="ace_paren ace_rparen">)</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'auteur'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_variable">$request</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">postData</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'auteur'</span><span class="ace_paren ace_rparen">)</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'contenu'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_variable">$request</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">postData</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'contenu'</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_paren ace_rparen">])</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">else</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$comment</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">managers</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">getManagerOf</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'Comments'</span><span class="ace_paren ace_rparen">)</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">get</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$request</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">getData</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'id'</span><span class="ace_paren ace_rparen">))</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$formBuilder</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_keyword">new</span> <span class="ace_support ace_class">CommentFormBuilder</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$comment</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$formBuilder</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">build</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$form</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_variable">$formBuilder</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">form</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_variable">$request</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">method</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span> <span class="ace_keyword ace_operator">==</span> <span class="ace_string">'POST'</span> <span class="ace_keyword ace_operator">&amp;&amp;</span> <span class="ace_variable">$form</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">isValid</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">))</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">managers</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">getManagerOf</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'Comments'</span><span class="ace_paren ace_rparen">)</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">save</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$comment</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">app</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">user</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">setFlash</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'Le commentaire a bien été modifié'</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">app</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">httpResponse</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">redirect</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'/admin/'</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">page</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">addVar</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'form'</span>, <span class="ace_variable">$form</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">createView</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">))</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">processForm</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">HTTPRequest</span> <span class="ace_variable">$request</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_variable">$request</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">method</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span> <span class="ace_keyword ace_operator">==</span> <span class="ace_string">'POST'</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$news</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_keyword">new</span> <span class="ace_support ace_class">News</span><span class="ace_paren ace_lparen">([</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'auteur'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_variable">$request</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">postData</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'auteur'</span><span class="ace_paren ace_rparen">)</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'titre'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_variable">$request</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">postData</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'titre'</span><span class="ace_paren ace_rparen">)</span>,
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_string">'contenu'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_variable">$request</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">postData</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'contenu'</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_paren ace_rparen">])</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_variable">$request</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">getExists</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'id'</span><span class="ace_paren ace_rparen">))</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_variable">$news</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">setId</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$request</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">getData</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'id'</span><span class="ace_paren ace_rparen">))</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">else</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_comment">// L'identifiant de la news est transmis si on veut la modifier</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_variable">$request</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">getExists</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'id'</span><span class="ace_paren ace_rparen">))</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_variable">$news</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">managers</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">getManagerOf</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'News'</span><span class="ace_paren ace_rparen">)</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">getUnique</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$request</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">getData</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'id'</span><span class="ace_paren ace_rparen">))</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_keyword">else</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_variable">$news</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_keyword">new</span> <span class="ace_support ace_class">News</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$formBuilder</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_keyword">new</span> <span class="ace_support ace_class">NewsFormBuilder</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$news</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$formBuilder</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">build</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$form</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_variable">$formBuilder</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">form</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_variable">$request</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">method</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span> <span class="ace_keyword ace_operator">==</span> <span class="ace_string">'POST'</span> <span class="ace_keyword ace_operator">&amp;&amp;</span> <span class="ace_variable">$form</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">isValid</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">))</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">managers</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">getManagerOf</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'News'</span><span class="ace_paren ace_rparen">)</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">save</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$news</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">app</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">user</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">setFlash</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$news</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">isNew</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span> ? <span class="ace_string">'La news a bien été ajoutée !'</span> : <span class="ace_string">'La news a bien été modifiée !'</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">app</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">httpResponse</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">redirect</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'/admin/'</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">page</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">addVar</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'form'</span>, <span class="ace_variable">$form</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">createView</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">))</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span>
</div></div></div></code><textarea class="code-block--raw-code"></textarea></pre><p id="r-2694230" data-claire-element-id="3484468">Bien sûr, il va falloir modifier les vues s'occupant d'afficher ces formulaires. Vous pouvez aussi supprimer le fichier&nbsp;<strong>_form.php</strong> qui ne nous est plus d'aucune utilité.</p><p id="r-2694231" data-claire-element-id="3484469">Les vues&nbsp;<strong>insert.php</strong>,&nbsp;<strong>update.php</strong> et&nbsp;<strong>updateComment.php</strong> deviennent respectivement :</p><pre id="r-2694232" data-claire-element-id="3484470" class="code-block"><code data-claire-semantic="php" data-code="{&quot;language&quot;:&quot;php&quot;,&quot;source&quot;:&quot;&lt;h2&gt;Ajouter une news&lt;/h2&gt;\n&lt;form action=\&quot;\&quot; method=\&quot;post\&quot;&gt;\n  &lt;p&gt;\n    &lt;?= $form ?&gt;\n    \n    &lt;input type=\&quot;submit\&quot; value=\&quot;Ajouter\&quot; /&gt;\n  &lt;/p&gt;\n&lt;/form&gt;&quot;}" class="ace" data-widget="codeBlock"><div class="ace-openclassrooms"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">h2</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_text ace_xml">Ajouter une news</span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">h2</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_form ace_tag-name ace_xml">form</span><span class="ace_text ace_tag-whitespace ace_xml"> </span><span class="ace_entity ace_other ace_attribute-name ace_xml">action</span><span class="ace_keyword ace_operator ace_attribute-equals ace_xml">=</span><span class="ace_string ace_attribute-value ace_xml">""</span><span class="ace_text ace_tag-whitespace ace_xml"> </span><span class="ace_entity ace_other ace_attribute-name ace_xml">method</span><span class="ace_keyword ace_operator ace_attribute-equals ace_xml">=</span><span class="ace_string ace_attribute-value ace_xml">"post"</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">  </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">p</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">    </span><span class="ace_support ace_php_tag">&lt;?=</span> <span class="ace_variable">$form</span> <span class="ace_support ace_php_tag">?&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">    </span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_form ace_tag-name ace_xml">input</span><span class="ace_text ace_tag-whitespace ace_xml"> </span><span class="ace_entity ace_other ace_attribute-name ace_xml">type</span><span class="ace_keyword ace_operator ace_attribute-equals ace_xml">=</span><span class="ace_string ace_attribute-value ace_xml">"submit"</span><span class="ace_text ace_tag-whitespace ace_xml"> </span><span class="ace_entity ace_other ace_attribute-name ace_xml">value</span><span class="ace_keyword ace_operator ace_attribute-equals ace_xml">=</span><span class="ace_string ace_attribute-value ace_xml">"Ajouter"</span><span class="ace_text ace_tag-whitespace ace_xml"> </span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">/&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">  </span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">p</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_form ace_tag-name ace_xml">form</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div></div></div></code><textarea class="code-block--raw-code"></textarea></pre><pre id="r-2694233" data-claire-element-id="3484471" class="code-block"><code data-claire-semantic="php" data-code="{&quot;language&quot;:&quot;php&quot;,&quot;source&quot;:&quot;&lt;h2&gt;Modifier une news&lt;/h2&gt;\n&lt;form action=\&quot;\&quot; method=\&quot;post\&quot;&gt;\n  &lt;p&gt;\n    &lt;?= $form ?&gt;\n    \n    &lt;input type=\&quot;submit\&quot; value=\&quot;Modifier\&quot; /&gt;\n  &lt;/p&gt;\n&lt;/form&gt;&quot;}" class="ace" data-widget="codeBlock"><div class="ace-openclassrooms"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">h2</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_text ace_xml">Modifier une news</span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">h2</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_form ace_tag-name ace_xml">form</span><span class="ace_text ace_tag-whitespace ace_xml"> </span><span class="ace_entity ace_other ace_attribute-name ace_xml">action</span><span class="ace_keyword ace_operator ace_attribute-equals ace_xml">=</span><span class="ace_string ace_attribute-value ace_xml">""</span><span class="ace_text ace_tag-whitespace ace_xml"> </span><span class="ace_entity ace_other ace_attribute-name ace_xml">method</span><span class="ace_keyword ace_operator ace_attribute-equals ace_xml">=</span><span class="ace_string ace_attribute-value ace_xml">"post"</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">  </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">p</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">    </span><span class="ace_support ace_php_tag">&lt;?=</span> <span class="ace_variable">$form</span> <span class="ace_support ace_php_tag">?&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">    </span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_form ace_tag-name ace_xml">input</span><span class="ace_text ace_tag-whitespace ace_xml"> </span><span class="ace_entity ace_other ace_attribute-name ace_xml">type</span><span class="ace_keyword ace_operator ace_attribute-equals ace_xml">=</span><span class="ace_string ace_attribute-value ace_xml">"submit"</span><span class="ace_text ace_tag-whitespace ace_xml"> </span><span class="ace_entity ace_other ace_attribute-name ace_xml">value</span><span class="ace_keyword ace_operator ace_attribute-equals ace_xml">=</span><span class="ace_string ace_attribute-value ace_xml">"Modifier"</span><span class="ace_text ace_tag-whitespace ace_xml"> </span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">/&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">  </span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">p</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_form ace_tag-name ace_xml">form</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div></div></div></code><textarea class="code-block--raw-code"></textarea></pre><pre id="r-2694234" data-claire-element-id="3484472" class="code-block"><code data-claire-semantic="php" data-code="{&quot;language&quot;:&quot;php&quot;,&quot;source&quot;:&quot;&lt;h2&gt;Modifier un commentaire&lt;/h2&gt;\n&lt;form action=\&quot;\&quot; method=\&quot;post\&quot;&gt;\n  &lt;p&gt;\n    &lt;?= $form ?&gt;\n    \n    &lt;input type=\&quot;submit\&quot; value=\&quot;Modifier\&quot; /&gt;\n  &lt;/p&gt;\n&lt;/form&gt;&quot;}" class="ace" data-widget="codeBlock"><div class="ace-openclassrooms"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">h2</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_text ace_xml">Modifier un commentaire</span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">h2</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_form ace_tag-name ace_xml">form</span><span class="ace_text ace_tag-whitespace ace_xml"> </span><span class="ace_entity ace_other ace_attribute-name ace_xml">action</span><span class="ace_keyword ace_operator ace_attribute-equals ace_xml">=</span><span class="ace_string ace_attribute-value ace_xml">""</span><span class="ace_text ace_tag-whitespace ace_xml"> </span><span class="ace_entity ace_other ace_attribute-name ace_xml">method</span><span class="ace_keyword ace_operator ace_attribute-equals ace_xml">=</span><span class="ace_string ace_attribute-value ace_xml">"post"</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">  </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">p</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">    </span><span class="ace_support ace_php_tag">&lt;?=</span> <span class="ace_variable">$form</span> <span class="ace_support ace_php_tag">?&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">    </span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">    </span><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_form ace_tag-name ace_xml">input</span><span class="ace_text ace_tag-whitespace ace_xml"> </span><span class="ace_entity ace_other ace_attribute-name ace_xml">type</span><span class="ace_keyword ace_operator ace_attribute-equals ace_xml">=</span><span class="ace_string ace_attribute-value ace_xml">"submit"</span><span class="ace_text ace_tag-whitespace ace_xml"> </span><span class="ace_entity ace_other ace_attribute-name ace_xml">value</span><span class="ace_keyword ace_operator ace_attribute-equals ace_xml">=</span><span class="ace_string ace_attribute-value ace_xml">"Modifier"</span><span class="ace_text ace_tag-whitespace ace_xml"> </span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">/&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_text ace_xml">  </span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">p</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_form ace_tag-name ace_xml">form</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span>
</div></div></div></code><textarea class="code-block--raw-code"></textarea></pre></div></div><div class="foldable" id="ui-id-4" data-widget="foldable"><h3 id="r-1669083" data-claire-element-id="3486080" class="foldable__button secondTitle js-foldable-button">Le gestionnaire de formulaires<i class="foldable__icon icon-next"></i></h3><div class="foldable__content"><p id="r-1672320" data-claire-element-id="1696105">Terminons ce chapitre en améliorant encore notre API permettant la création de formulaire. Je voudrais attirer votre attention sur ce petit passage, que l'on retrouve à chaque fois (que ce soit pour ajouter ou modifier une news ou un commentaire) :</p><pre id="r-1672321" data-claire-element-id="3464077" class="code-block"><code data-claire-semantic="html+php" data-code="{&quot;language&quot;:&quot;html+php&quot;,&quot;source&quot;:&quot;&lt;?php\n// Nous sommes ici au sein d&#39;un contrôleur\nif($request-&gt;method() == &#39;POST&#39; &amp;&amp; $form-&gt;isValid())\n{\n  $this-&gt;managers-&gt;getManagerOf(&#39;Manager&#39;)-&gt;save($comment);\n  // ...\n}&quot;}" class="ace" data-widget="codeBlock"><div class="ace-openclassrooms"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_support ace_php_tag">&lt;?php</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">// Nous sommes ici au sein d'un contrôleur</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">if</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$request</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">method</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span> <span class="ace_keyword ace_operator">==</span> <span class="ace_string">'POST'</span> <span class="ace_keyword ace_operator">&amp;&amp;</span> <span class="ace_variable">$form</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">isValid</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">))</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">managers</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">getManagerOf</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'Manager'</span><span class="ace_paren ace_rparen">)</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">save</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$comment</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_comment">// ...</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span>
</div></div></div></code><textarea class="code-block--raw-code"></textarea></pre><p id="r-1672322" data-claire-element-id="1696107">Bien que réduit, ce bout de code est lui aussi dupliqué. De plus, si l'on veut vraiment externaliser la gestion du formulaire, alors il va falloir le sortir du contrôleur. Ainsi, il ne restera plus d'opération de traitement dans le contrôleur. On séparera donc bien les rôles : le contrôleur n'aura plus à réfléchir sur le formulaire qu'il traite. En effet, il ne fera que demander au constructeur de formulaire de construire le formulaire qu'il veut, puis demandera au gestionnaire de formulaire de s'occuper de lui s'il a été envoyé. On ne se souciera donc plus de l'aspect interne du formulaire !</p><h4 id="r-1672328" data-claire-element-id="3486079">Conception du gestionnaire de formulaire</h4><p id="r-1672323" data-claire-element-id="3464160">Comme nous venons de le voir, le gestionnaire de formulaire est chargé de traiter le formulaire une fois qu'il a été envoyé. Nous avons donc d'ores et déjà une fonctionnalité de notre classe : celle de traiter le formulaire. Concernant les&nbsp;caractéristiques, penchons-nous du côté des éléments dont notre gestionnaire a besoin pour fonctionner. Le premier élément me paraît évident : comment s'occuper d'un formulaire si on n'y a pas accès ? Ce premier élément est donc bien entendu le formulaire dont il est question. Le deuxième élément, lui, est aussi évident : comment enregistrer l'entité correspondant au formulaire si on n'a pas le <em>manager</em> correspondant ? Le deuxième élément est donc le <em>manager</em> correspondant à l'entité. Enfin, le troisième élément est un peu plus subtil, et il faut réfléchir au contenu de la méthode qui va traiter le formulaire. Cette méthode devra savoir si le formulaire a été envoyé pour pouvoir le traiter (si rien n'a été envoyé, il n'y a aucune raison de traiter quoi que ce soit). Ainsi, pour savoir si le formulaire a été envoyé, il faut que notre gestionnaire de formulaire ait accès à la requête du client afin de connaitre le type de la requête (GET ou POST). Ces trois éléments devront être passés au constructeur de notre objet.</p><p id="r-1672324" data-claire-element-id="1696109">Schématiquement, voici notre gestionnaire de formulaire (voir la figure suivante).</p><figure id="r-1672327" data-claire-element-id="3486078"><img id="r-1672325" data-claire-element-id="1696110" src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/403814.png" alt="Modélisation de la classe FormHandler"><figcaption>Modélisation de la classe FormHandler</figcaption></figure><h4 id="r-1672331" data-claire-element-id="3464165">Développement du gestionnaire de formulaire</h4><p id="r-1672329" data-claire-element-id="1696114">Voici le résultat que vous auriez du obtenir :</p><pre id="r-1672330" data-claire-element-id="3464164" class="code-block"><code data-claire-semantic="php" data-code="{&quot;language&quot;:&quot;php&quot;,&quot;source&quot;:&quot;&lt;?php\nnamespace OCFram;\n\nclass FormHandler\n{\n  protected $form;\n  protected $manager;\n  protected $request;\n\n  public function __construct(Form $form, Manager $manager, HTTPRequest $request)\n  {\n    $this-&gt;setForm($form);\n    $this-&gt;setManager($manager);\n    $this-&gt;setRequest($request);\n  }\n\n  public function process()\n  {\n    if($this-&gt;request-&gt;method() == &#39;POST&#39; &amp;&amp; $this-&gt;form-&gt;isValid())\n    {\n      $this-&gt;manager-&gt;save($this-&gt;form-&gt;entity());\n\n      return true;\n    }\n\n    return false;\n  }\n\n  public function setForm(Form $form)\n  {\n    $this-&gt;form = $form;\n  }\n\n  public function setManager(Manager $manager)\n  {\n    $this-&gt;manager = $manager;\n  }\n\n  public function setRequest(HTTPRequest $request)\n  {\n    $this-&gt;request = $request;\n  }\n}&quot;}" class="ace" data-widget="codeBlock"><div class="ace-openclassrooms"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_support ace_php_tag">&lt;?php</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">namespace</span> <span class="ace_identifier">OCFram</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">class</span> <span class="ace_identifier">FormHandler</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">protected</span> <span class="ace_variable">$form</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">protected</span> <span class="ace_variable">$manager</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">protected</span> <span class="ace_variable">$request</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">__construct</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">Form</span> <span class="ace_variable">$form</span>, <span class="ace_identifier">Manager</span> <span class="ace_variable">$manager</span>, <span class="ace_identifier">HTTPRequest</span> <span class="ace_variable">$request</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">setForm</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$form</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">setManager</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$manager</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">setRequest</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$request</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">process</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">if</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">request</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">method</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span> <span class="ace_keyword ace_operator">==</span> <span class="ace_string">'POST'</span> <span class="ace_keyword ace_operator">&amp;&amp;</span> <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">form</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">isValid</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">))</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">manager</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">save</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">form</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">entity</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">))</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_support ace_function">return</span> <span class="ace_constant ace_language">true</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_support ace_function">return</span> <span class="ace_constant ace_language">false</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">setForm</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">Form</span> <span class="ace_variable">$form</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">form</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_variable">$form</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">setManager</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">Manager</span> <span class="ace_variable">$manager</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">manager</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_variable">$manager</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">public</span> <span class="ace_keyword">function</span> <span class="ace_identifier">setRequest</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">HTTPRequest</span> <span class="ace_variable">$request</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">request</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_variable">$request</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_paren ace_rparen">}</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span>
</div></div></div></code><textarea class="code-block--raw-code"></textarea></pre><h4 id="r-1672337" data-claire-element-id="3464167">Modification des contrôleurs</h4><p id="r-1672332" data-claire-element-id="1696117">Ici, la modification est très simple. En effet, nous avons juste décentralisé ce bout de code :</p><pre id="r-1672333" data-claire-element-id="3464083" class="code-block"><code data-claire-semantic="html+php" data-code="{&quot;language&quot;:&quot;html+php&quot;,&quot;source&quot;:&quot;&lt;?php\nif($request-&gt;method() == &#39;POST&#39; &amp;&amp; $form-&gt;isValid())\n{\n  $this-&gt;managers-&gt;getManagerOf(&#39;Manager&#39;)-&gt;save($comment);\n  // Autres opérations (affichage d&#39;un message informatif, redirection, etc.).\n}&quot;}" class="ace" data-widget="codeBlock"><div class="ace-openclassrooms"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_support ace_php_tag">&lt;?php</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">if</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$request</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">method</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span> <span class="ace_keyword ace_operator">==</span> <span class="ace_string">'POST'</span> <span class="ace_keyword ace_operator">&amp;&amp;</span> <span class="ace_variable">$form</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">isValid</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">))</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">managers</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">getManagerOf</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'Manager'</span><span class="ace_paren ace_rparen">)</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">save</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$comment</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_comment">// Autres opérations (affichage d'un message informatif, redirection, etc.).</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span>
</div></div></div></code><textarea class="code-block--raw-code"></textarea></pre><p id="r-1672334" data-claire-element-id="1696119">Il suffit donc de remplacer ce code par la simple invocation de la méthode <code>process()</code> sur notre objet <code>FormHandler</code> :</p><pre id="r-1672335" data-claire-element-id="3464166" class="code-block"><code data-claire-semantic="php" data-code="{&quot;language&quot;:&quot;php&quot;,&quot;source&quot;:&quot;&lt;?php\n// On récupère le gestionnaire de formulaire (le paramètre de getManagerOf() est bien entendu à remplacer).\n$formHandler = new \\OCFram\\FormHandler($form, $this-&gt;managers-&gt;getManagerOf(&#39;Comments&#39;), $request);\n\nif ($formHandler-&gt;process())\n{\n  // Ici ne résident plus que les opérations à effectuer une fois l&#39;entité du formulaire enregistrée\n  // (affichage d&#39;un message informatif, redirection, etc.).\n}&quot;}" class="ace" data-widget="codeBlock"><div class="ace-openclassrooms"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_support ace_php_tag">&lt;?php</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment">// On récupère le gestionnaire de formulaire (le paramètre de getManagerOf() est bien entendu à remplacer).</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_variable">$formHandler</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_keyword">new</span> \<span class="ace_identifier">OCFram</span>\<span class="ace_identifier">FormHandler</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$form</span>, <span class="ace_variable">$this</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">managers</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">getManagerOf</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'Comments'</span><span class="ace_paren ace_rparen">)</span>, <span class="ace_variable">$request</span><span class="ace_paren ace_rparen">)</span>;
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">if</span> <span class="ace_paren ace_lparen">(</span><span class="ace_variable">$formHandler</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">process</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">))</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">{</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_comment">// Ici ne résident plus que les opérations à effectuer une fois l'entité du formulaire enregistrée</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_comment">// (affichage d'un message informatif, redirection, etc.).</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_rparen">}</span>
</div></div></div></code><textarea class="code-block--raw-code"></textarea></pre><p id="r-1672336" data-claire-element-id="1696121">Je vous fais confiance pour mettre à jour vos contrôleurs comme il se doit !</p></div></div>
</div>
<div class="js-courseSelementActions sideActions is-visible" data-widget="courseElementActions" style="height: 1218px; top: 6072.01px; left: -37.5104px;">
<ul class="sideActions__container">
<li>
<a class="sideActions__item  js-courseElementActions-copyUrl  js-tooltip" href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/gerer-les-formulaires#/id/r-1672231" data-tooltip="Copier le lien" data-tooltip-done="Lien copié !" data-clipboard-text="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/gerer-les-formulaires#/id/r-1672231">
#
</a>
</li>
</ul>
</div>
</div>
<div class="text-center space-top">
<form name="form" method="post" action="https://openclassrooms.com/courses/1665806/parts/1669084/mark-as-complete" class=" oc-form">
<button type="submit" id="form_submit" name="form[submit]" class="button button--primary button"><i class="icon-to_do"></i> J'ai terminé ce chapitre et je passe au suivant</button>
<input type="hidden" id="form__token" name="form[_token]" class=" textInput textInput--hidden" value="BTNxZ_edrEWPUmp-yFDvUpjibEJqT663s_V14fCZcIM"></form>
</div>
<nav class="course-pagination    clearfix">
<a href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/le-backend" class="button course-pagination__btn course-pagination__btn--previous">
<i class="icon-previous"></i>
<span>Le backend</span>
</a>
<span class="course-pagination__separator"></span>
<a href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/exercises/391" class="button course-pagination__btn course-pagination__btn--next">
<span>Activité : Créez un système de mise en cache</span>
<i class="icon-next"></i>
</a>
</nav>
<aside tabindex="-1" role="dialog" aria-labelledby="popin-view-restriction_popin_title" class="popin popin--illustrated  js-popin" id="popin-view-restriction">
<i class="popin__close-button icon-close js-close-button"></i>
<div class="popin__inner">
<div class="popin__illustrationWrapper">
<div class="popin__illustration illustration--balloon"></div>
</div>
<div class="popin__mainContainer">
<h3 id="popin-view-restriction_popin_title" class="popin__title  js-popin-title">Waouh&nbsp;!</h3>
<div class="popin__content  js-popin-content">
<div class="popin__contentWrapper">
<p>
Très heureux de voir que nos cours vous plaisent, déjà 5 pages lues aujourd'hui ! Vous pouvez continuer la lecture de nos cours en devenant un membre de la communauté d'OpenClassrooms. C'est gratuit !
</p>
<p>
Vous pourrez aussi suivre votre avancement dans le cours, faire les exercices et discuter avec les autres membres.
</p>
</div>
</div>
<div class="popin__actions  js-popin-actions">
<span class="u--inlineBlock">
<a class="button button--primary " href="https://openclassrooms.com/register">S'inscrire</a>
</span>
<span class="u--inlineBlock">
<a class="button button " href="https://openclassrooms.com/login">Se connecter</a>
</span>
</div>
</div>
</div>
</aside>
</div>
</section>
</div>
</div>
<div id="popin-not-certifying-yet_621570" class="popin" data-popin-title="Vous ne pouvez pas encore obtenir de certificat de réussite à l&#39;issue de ce cours.
                            &lt;a href=&#39;/premium&#39;&gt;&lt;i class=&#39;icon-star&#39;&gt;&lt;/i&gt; Devenez Premium&lt;/a&gt;
                    ">
<img alt="Exemple de certificat de réussite" src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/certif.jpg">
</div>
<div id="popin-not-certifying-yet_968601" class="popin" data-popin-title="Vous ne pouvez pas encore obtenir de certificat de réussite à l&#39;issue de ce cours.
                            &lt;a href=&#39;/premium&#39;&gt;&lt;i class=&#39;icon-star&#39;&gt;&lt;/i&gt; Devenez Premium&lt;/a&gt;
                    ">
<img alt="Exemple de certificat de réussite" src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/certif.jpg">
</div>
</main>
<aside class="contentWithSidebar__sidebar  js-contentWithSidebar-slidingElement">
<nav class="col-nav">
<div id="tab-courseMenu" class="col-nav__inner js-sidebar-inner">
<div class="col-nav__block  col-nav__block--summary">
<div class="side-paginate">
<a href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/le-backend" class="side-paginate__previous">
<i class="icon-previous"></i>
</a>
<span class="side-paginate__separator"></span>
<h6 class="side-paginate__title">
[Pratique] Réalisation d'un site web
</h6>
<span class="side-paginate__separator"></span>
<a href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/exercises/391" class="side-paginate__next">
<i class="icon-next"></i>
</a>
</div>
<div class="col-nav__block--summary-list">
<ol class="col-nav__chapters">
<li class="">
<a class="col-nav__chapterTitle" href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l'application</a>
</li>
<li class="">
<a class="col-nav__chapterTitle" href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
</li>
<li class="">
<a class="col-nav__chapterTitle" href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
</li>
<li class="">
<a class="col-nav__chapterTitle" href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
</li>
<li class="selected">
<span class="col-nav__chapterTitle">Gérer les formulaires</span>
</li>
</ol>
<div class="tocExercise"><ul class="tocExercise__list"><li class="tocExercise__item "><a class="tocExercise__link " href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/exercises/391"><i class="tocExercise__icon icon-test"></i><span class="tocExercise__text">Activité : Créez un système de mise en cache</span></a></li></ul></div> </div>
</div>
<div class="col-nav__block col-nav__block--button">
<a href="https://openclassrooms.com/forum/categorie/php" class="button">
Accéder au forum
</a>
</div>
<div class="col-nav__block col-nav__block--institution">
<h2>Avec le soutien de</h2>
<a href="https://oc.cm/1IdW0jc" target="_blank">
<span data-image-cdn-attr-src="https://s3-eu-west-1.amazonaws.com/course.oc-static.com/partners/50/14480105597389_3w-academy-logo.png" data-image-cdn-attr-alt="logo 3W Academy" data-image-cdn-attr-class="col-nav__institutionLogo"><img data-reactroot="" srcset="https://oc-course.imgix.net/partners/50/14480105597389_3w-academy-logo.png?auto=compress,format&amp;q=80&amp;dpr=1 1x,https://oc-course.imgix.net/partners/50/14480105597389_3w-academy-logo.png?auto=compress,format&amp;q=80&amp;dpr=2 2x" src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/14480105597389_3w-academy-logo.png" class="col-nav__institutionLogo" alt="logo 3W Academy"></span>
<p class="col-nav__block--institutionDescription">
Découvrir la formation développeur en 3 mois, HTML, CSS, Php, MySQL, Javascript.
</p>
</a>
</div>
<div class="socialNetwork col-nav__block">
<ul class="socialButtons  js-socialButtons" data-options="
                title: &#39;Gérer les formulaires @OpenClassrooms&#39;,
        mailTitle: &#39;Cours &quot;Gérer les formulaires&quot; sur OpenClassrooms&#39;,
        mailContent: &#39;Découvrez le cours &quot;Gérer les formulaires&quot; sur OpenClassrooms.&#39;" data-widget="socialButtons">
<li>
<a class="roundIcon  roundIcon--twitter addthis_button_twitter  js-socialButtons-btn js-tooltip at300b" data-tooltip="Partagez sur Twitter" addthis:url="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/gerer-les-formulaires?lang=fr" addthis:title="Gérer les formulaires @OpenClassrooms" title="Twitter" href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/gerer-les-formulaires#">
<i class="roundIcon__icon  icon-twitter"></i>
</a>
</li>
<li>
<a class="roundIcon  roundIcon--facebook  addthis_button_facebook  js-socialButtons-btn js-tooltip at300b" data-tooltip="Partagez sur Facebook" addthis:url="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/gerer-les-formulaires?lang=fr" addthis:title="Gérer les formulaires @OpenClassrooms" title="Facebook" href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/gerer-les-formulaires#">
<i class="roundIcon__icon  icon-facebook"></i>
</a>
</li>
<li>
<a class="roundIcon  roundIcon--googlePlus  addthis_button_google_plusone_share  js-socialButtons-btn js-tooltip at300b" data-tooltip="Partagez sur Google+" addthis:url="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/gerer-les-formulaires?lang=fr" addthis:title="Gérer les formulaires @OpenClassrooms" target="_blank" title="Google+" href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/gerer-les-formulaires#">
<i class="roundIcon__icon  icon-google"></i>
</a>
</li>
<li>
<a class="roundIcon  addthis_button_email  js-socialButtons-btn  js-socialButtons-email js-tooltip at300b" data-tooltip="Partagez par e-mail" addthis:url="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/gerer-les-formulaires?lang=fr" addthis:ui_email_title="Gérer les formulaires @OpenClassrooms" addthis:ui_email_note="Découvrez le cours &quot;Gérer les formulaires&quot; sur OpenClassrooms." addthis:title="Cours &quot;Gérer les formulaires&quot; sur OpenClassrooms" target="_blank" title="Email" href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/gerer-les-formulaires#">
<i class="roundIcon__icon  icon-letter"></i>
</a>
</li>
</ul>
</div>
</div>
</nav>
</aside>
</div>
</div>
<footer class="alt-section">
<div class="centered">
<div class="row">
<div class="col4 course-bottom__category">
<h2 class="highlighted">
Le professeur
</h2>
<div>
<a itemprop="author" itemscope="" itemtype="http://schema.org/Person" href="https://openclassrooms.com/membres/vyk12-68874" class="no-underlined">
<div class="course-bottom__text-illustrated">
<span data-author="Victor Thuillier" data-image-cdn-background-image="//sdz-upload.s3.amazonaws.com/prod/users/avatars/Light%20Blue1.png" style="background-image: url(&quot;https://oc-upload.imgix.net/prod/users/avatars/Light%20Blue1.png?auto=compress,format&amp;q=80&quot;);"></span>
<h4 itemprop="name">Victor Thuillier</h4>
<p itemprop="description">
Auteur du livre sur la POO en PHP ainsi que de 4 autres tutoriels
</p>
</div>
</a>
</div>
</div>
<div class="col8 course-bottom__category">
<h2 class="highlighted">Découvrez aussi ce cours en...</h2>
<ul class="course-bottom__format">
<li>
<a href="https://openclassrooms.com/ebooks/programmez-en-oriente-objet-en-php" class="text-decoration-none">
<div class="circle circle--x-small">
<span class="circle__content"></span>
<i class="icon-ebook"></i>
<div class="ribbon ribbon--orange">
<div class="ribbon__content">
<span>Premium</span>
</div>
</div>
</div>
<div class="course-bottom__format-entitled">eBook</div>
</a>
</li>
<li>
<a href="http://www.eyrolles.com/Informatique/Livre/programmez-en-oriente-objet-en-php-9791090085855?societe=openclassrooms" target="_blank" class="text-decoration-none">
<div class="circle circle--x-small">
<span class="circle__content"></span>
<i class="icon-book"></i>
</div>
<div class="course-bottom__format-entitled">Livre papier</div>
</a>
</li>
<li>
<a href="https://openclassrooms.com/old-courses-pdf" class="text-decoration-none">
<div class="circle circle--x-small">
<span class="circle__content"></span>
<i class="icon-pdf"></i>
</div>
<div class="course-bottom__format-entitled">PDF</div>
</a>
</li>
</ul>
</div>
</div>
</div>
</footer>
</article>
</div>
</div>
<footer class="footer">
<div class="centered">
<div class="row">
<div class="col3 col6-s  footer__item  linksList  foldable  js-foldable is-closed is-forceOpened" data-options="mobileOnly: true, disableOnLargeScreen: true, initialState: &#39;closed&#39;" data-widget="foldable">
<h3 class="linksList__title footer__title foldable__button  js-foldable-button">
OpenClassrooms
<i class="icon-next  foldable__icon"></i>
</h3>
<ul class="linksList__content foldable__content">
<li>
<a href="https://openclassrooms.com/about-us" class="footer__link">Qui sommes-nous ?</a>
</li>
<li>
<a href="https://openclassrooms.com/how-does-it-work" class="footer__link">Fonctionnement de nos cours</a>
</li>
<li>
<a href="http://jobs.openclassrooms.com/" target="_blank" class="footer__link">Recrutement</a>
</li>
<li>
<a href="https://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/gerer-les-formulaires#" class="js-zendesk-show footer__link">Nous contacter</a>
</li>
</ul>
</div>
<div class="col3 col6-s  footer__item  linksList  foldable  js-foldable is-closed is-forceOpened" data-options="mobileOnly: true, disableOnLargeScreen: true, initialState: &#39;closed&#39;" data-widget="foldable">
<h3 class="linksList__title footer__title foldable__button  js-foldable-button">
Professionnels
<i class="icon-next  foldable__icon"></i>
</h3>
<ul class="linksList__content foldable__content">
<li>
<a href="https://openclassrooms.com/affiliation" class="footer__link">
Affiliation
</a>
</li>
<li>
<a href="https://openclassrooms.com/partners" class="footer__link">Partenaires</a>
</li>
<li>
<a href="https://openclassrooms.com/for-business" class="footer__link">For Business</a>
</li>
</ul>
</div>
<div class="col3 col6-s  footer__item  linksList  foldable  js-foldable is-closed is-forceOpened" data-options="mobileOnly: true, disableOnLargeScreen: true, initialState: &#39;closed&#39;" data-widget="foldable">
<h3 class="linksList__title footer__title foldable__button  js-foldable-button">
En plus
<i class="icon-next  foldable__icon"></i>
</h3>
<ul class="linksList__content foldable__content">
<li>
<a href="https://openclassrooms.com/new-teachers" class="footer__link">Créer un cours</a>
</li>
<li>
<a href="https://openclassrooms.com/courses/courselab" class="footer__link">CourseLab</a>
</li>
<li>
<strong>
<a href="https://openclassrooms.com/terms-conditions" class="footer__link">
Conditions Générales d'Utilisation
</a>
</strong>
</li>
</ul>
</div>
<div class="col3 col6-s  footer__item  linksList  foldable  js-foldable is-closed is-forceOpened" data-options="mobileOnly: true, disableOnLargeScreen: true, initialState: &#39;closed&#39;" data-widget="foldable">
<h3 class="linksList__title footer__title foldable__button  js-foldable-button">
Suivez-nous
<i class="icon-next  foldable__icon"></i>
</h3>
<ul class="linksList__content foldable__content">
<li>
<a href="http://blog.openclassrooms.com/" class="footer__link">Le blog OpenClassrooms</a>
</li>
<li>
<ul class="footer__socialNetwork">
<li>
<a href="https://www.facebook.com/openclassrooms" title="Facebook" target="_blank" class="roundIcon roundIcon--facebook footer__socialButtons">
<span class="hidden">Facebook</span>
<i class="icon-facebook roundIcon__icon"></i>
</a>
</li>
<li>
<a href="https://twitter.com/openclassrooms" title="Twitter" target="_blank" class="roundIcon roundIcon--twitter footer__socialButtons">
<span class="hidden">Twitter</span>
<i class="icon-twitter roundIcon__icon"></i>
</a>
</li>
<li>
<a href="https://plus.google.com/+OpenClassrooms/posts" title="Google Plus" target="_blank" class="roundIcon roundIcon--youtube footer__socialButtons">
<span class="hidden">Google Plus</span>
<i class="icon-google roundIcon__icon"></i>
</a>
</li>
<li>
<a href="https://instagram.com/openclassrooms" title="Instagram" target="_blank" class="roundIcon roundIcon--instagram footer__socialButtons">
<span class="hidden">Instagram</span>
<i class="icon-instagram roundIcon__icon"></i>
</a>
</li>
<li>
<a href="https://www.youtube.com/user/TheOpenClassrooms" title="Youtube" target="_blank" class="roundIcon roundIcon--googlePlus footer__socialButtons">
<span class="hidden">Youtube</span>
<i class="icon-youtube roundIcon__icon"></i>
</a>
</li>
<li>
<a href="https://www.linkedin.com/company/openclassrooms" title="Linkedin" target="_blank" class="roundIcon roundIcon--linkedin footer__socialButtons">
<span class="hidden">Linkedin</span>
<i class="icon-linkedin roundIcon__icon"></i>
</a>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="text-right u--positionRelative">
<hr>
<div class="footer__onlineStatus" id="react_conversation_onlineStatus"><!-- react-empty: 1 --></div>
<ul class="no-decoration inline">
<li>
<form data-need-token="" class="footer__langForm" action="https://openclassrooms.com/change-locale/en" method="POST">
<button class="button button--link  footer__link">English</button>
<input type="hidden" name="_token" value="">
</form>
</li>
<li>
<form data-need-token="" class="footer__langForm" action="https://openclassrooms.com/change-locale/es" method="POST">
<button class="button button--link  footer__link">Español</button>
<input type="hidden" name="_token" value="">
</form>
</li>
</ul>
</div>
</div>
</footer>
<script type="text/javascript">
    window.analytics=window.analytics||[],window.analytics.methods=["identify","group","track","page","pageview","alias","ready","on","once","off","trackLink","trackForm","trackClick","trackSubmit"],window.analytics.factory=function(t){return function(){var a=Array.prototype.slice.call(arguments);return a.unshift(t),window.analytics.push(a),window.analytics}};for(var i=0;i<window.analytics.methods.length;i++){var key=window.analytics.methods[i];window.analytics[key]=window.analytics.factory(key)}window.analytics.load=function(t){if(!document.getElementById("analytics-js")){var a=document.createElement("script");a.type="text/javascript",a.id="analytics-js",a.async=!0,a.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.io/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n)}},window.analytics.SNIPPET_VERSION="2.0.9",
    window.analytics.load('mou95e6tdn');
</script>
<script>App.scripts.push("https://cdn.polyfill.io/v2/polyfill.min.js?features=default,Array.prototype.includes,Intl.~locale.fr");</script>
<script>App.scripts.push("/js/oc/packages/vendors-e2845da7.js");</script>
<script>App.scripts.push("/js/oc/packages/common-d30654ea.js");</script>
 
<script>App.scripts.push("/js/oc/packages/courseView-b88c9938.js");</script>
 
<script>
    (function () {
        function loadScripts(cb) {
            App.scripts.forEach(function (src, index) {
                var script = document.createElement('script');
                script.src = src;
                script.async = false;
                document.body.appendChild(script);

                if (cb && index === App.scripts.length - 1) {
                    script.onload = cb;
                }
            });
        }

        function boot() {
            loadScripts(function () {
                if (App.modules) {
                    App.modules.startAll();
                }
            });
        }

        if (window.addEventListener) {
            window.addEventListener('load', boot, false);
        } else if (window.attachEvent) {
            window.attachEvent('onload', boot);
        } else {
            window.onload = boot;
        }
    }());
</script>
<script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","licenseKey":"90dc06697a","applicationID":"20302107","transactionName":"NANaYkJXC0ICAhdYVw1Je0NDQgpcTA4AblsPB1FEVWkGXhYTEFRnEwdKQm9GBEMXPhVYXRQ=","queueTime":0,"applicationTime":175,"atts":"GERZFApNGEw=","errorBeacon":"bam.nr-data.net","agent":""}</script>

<script type="text/javascript" id="">(function(){window.satismeter=window.satismeter||function(){(window.satismeter.q=window.satismeter.q||[]).push(arguments)};window.satismeter.l=1*new Date;var a=document.createElement("script"),b=document.getElementsByTagName("script")[0].parentNode;a.async=1;a.src="https://app.satismeter.com/satismeter.js";b.appendChild(a)})();
satismeter({writeKey:"0j5PPJ3AwSuMNsix",userId:"6540350",language:"fr",traits:{email:"v.lafaverges@gmail.com",name:"Vero Lafaverges",createdAt:"2014-02-10T21:35:06+01:00",country:"",gender:"F",premiumType:"",premium:"false",typeNPS:"course",language:"fr",locale:"fr",title:"Programmez en orienté objet en PHP",isCertifying:"true"}});</script><script type="text/javascript" id="">_linkedin_data_partner_id="50013";</script><script type="text/javascript" id="">(function(){var b=document.getElementsByTagName("script")[0],a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src="https://snap.licdn.com/li.lms-analytics/insight.min.js";b.parentNode.insertBefore(a,b)})();</script>
<noscript>
&lt;img height="1" width="1" style="display:none;" alt="" src="https://dc.ads.linkedin.com/collect/?pid=50013&amp;amp;fmt=gif"&gt;
</noscript><script src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/polyfill.min.js"></script><script src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/vendors-e2845da7.js"></script><script src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/common-d30654ea.js"></script><script src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/courseView-b88c9938.js"></script><script src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/saved_resource" type="text/javascript"></script><div><!-- react-empty: 1 --></div><div role="log" aria-live="assertive" aria-relevant="additions" class="ui-helper-hidden-accessible"><div>Copier le lien</div></div><div id="_atssh" style="visibility: hidden; height: 1px; width: 1px; position: absolute; top: -9999px; z-index: 100000;"><iframe id="_atssh877" title="AddThis utility frame" src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/sh.886bb8b2fb82aeab6a228151.html" style="height: 1px; width: 1px; position: absolute; top: 0px; z-index: 100000; border: 0px; left: 0px;"></iframe></div><style id="service-icons-0"></style><div style="width:0px; height:0px; display:none; visibility:hidden;" id="batBeacon0.7842346813379606"><img style="width:0px; height:0px; display:none; visibility:hidden;" id="batBeacon0.22265781548986974" width="0" height="0" alt="" src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/0"></div><form method="post" action="https://www.facebook.com/tr/" target="fb030049652608443544" accept-charset="utf-8" style="display: none;"><iframe src="javascript:false" id="fb030049652608443544" name="fb030049652608443544" src="./Gérer les formulaires - Programmez en orienté objet en PHP_files/saved_resource.html"></iframe><input name="id"><input name="ev"><input name="dl"><input name="rl"><input name="if"><input name="ts"><input name="cd[Schema.org]"><input name="cd[OpenGraph]"><input name="ud%5Bem%5D"><input name="ud%5Bfn%5D"><input name="ud%5Bln%5D"><input name="ud%5Bge%5D"><input name="v"><input name="a"><input name="o"></form></body></html>